{
  "properties": {
    "lenses": {
      "0": {
        "order": 0,
        "parts": {
          "0": {
            "position": {
              "x": 0,
              "y": 0,
              "colSpan": 15,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\"> AKS Attach (overall)</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "1": {
            "position": {
              "x": 0,
              "y": 1,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp  > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend Computer = tostring(customDimensions.Computer), AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem)))\r\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\r\n| where Computer !startswith(\"virtual\")\r\n| extend OSType = iff( OS =~ \"windows\", \"Windows\", \"Linux\")\r\n| summarize max(value) by Computer, AKSResourceId, OSType, bin(timestamp,1d)  \r\n| summarize sum(max_value) by OSType, timestamp\r\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "sum_max_value",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "OSType",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "9b6a2b0a-8767-4058-99dd-5559c1004c02"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Core count",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "2": {
            "position": {
              "x": 5,
              "y": 1,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union \n(\ncustomMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem)))\n| where timestamp  > ago(1d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where Computer !startswith(\"virtual\")\n| where OS != \"windows\"\n| summarize max(value) by Computer, AKSResourceId, bin(timestamp,1d)  \n| summarize corecount = sum(max_value) by bin(timestamp,1d)\n| summarize max(corecount), OS1=\"Linux\"\n),\n(\ncustomMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem)))\n| where timestamp  > ago(1d)\n| where isnotempty(AKSResourceId)\n| where Computer !startswith(\"virtual\")\n| where OS == \"windows\"\n| summarize max(value) by Computer, AKSResourceId, bin(timestamp,1d)\n| summarize corecount = sum(max_value) by bin(timestamp,1d)\n| summarize max(corecount), OS1=\"Windows\"\n)\n| render piechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "OS1",
                      "type": "string"
                    },
                    "yAxis": [
                      {
                        "name": "max_corecount",
                        "type": "real"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "66940c31-1d28-4aaf-b464-0c7bd83d1dfd"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsDonut"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Core count - Linux v. Windows",
                  "PartSubTitle": "1d",
                  "Query": "union \n(\ncustomMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem)))\n| where timestamp  > ago(1d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\n| where Computer !startswith(\"virtual\")\n| where OS != \"windows\"\n| summarize max(value) by Computer, AKSResourceId, bin(timestamp,1d)  \n| summarize corecount = sum(max_value) by bin(timestamp,1d)\n| summarize max(corecount), OS1=\"Linux\"\n),\n(\ncustomMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem)))\n| where timestamp  > ago(1d)\n| where isnotempty(AKSResourceId)\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\n| where Computer !startswith(\"virtual\")\n| where OS == \"windows\"\n| summarize max(value) by Computer, AKSResourceId, bin(timestamp,1d)\n| summarize corecount = sum(max_value) by bin(timestamp,1d)\n| summarize max(corecount), OS1=\"Windows\"\n)\n| render piechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "3": {
            "position": {
              "x": 10,
              "y": 1,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union \r\n(\r\ncustomMetrics\r\n| where name == \"NodeCoreCapacity\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType),Regn = tolower(trim(\" \", tostring(customDimensions.Region)))\r\n| where timestamp  > ago(1d)\r\n| where isempty(ACSResourceName)\r\n| where isnotempty(AKSResourceId)\r\n| where Computer !startswith(\"virtual\")\r\n| where Regn has \"virginia\"\r\n| summarize max(value) by Computer, AKSResourceId, bin(timestamp,1d)  \r\n| summarize corecount = sum(max_value) by bin(timestamp,1d)\r\n| summarize max(corecount), Cloud=\"Fairfax\"\r\n),\r\n(\r\ncustomMetrics\r\n| where name == \"NodeCoreCapacity\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType), Regn = tolower(trim(\" \", tostring(customDimensions.Region)))\r\n| where timestamp  > ago(1d)\r\n| where isnotempty(AKSResourceId)\r\n| where Computer !startswith(\"virtual\")\r\n| where Regn has \"china\"\r\n| summarize max(value) by Computer, AKSResourceId, bin(timestamp,1d)\r\n| summarize corecount = sum(max_value) by bin(timestamp,1d)\r\n| summarize max(corecount), Cloud=\"Mooncake\"\r\n),\r\n(\r\ncustomMetrics\r\n| where name == \"NodeCoreCapacity\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType), Regn = tolower(trim(\" \", tostring(customDimensions.Region)))\r\n| where timestamp  > ago(1d)\r\n| where isnotempty(AKSResourceId)\r\n| where Computer !startswith(\"virtual\")\r\n| where Regn !has \"china\" and Regn !has \"Virginia\"\r\n| summarize max(value) by Computer, AKSResourceId, bin(timestamp,1d)\r\n| summarize corecount = sum(max_value) by bin(timestamp,1d)\r\n| summarize max(corecount), Cloud=\"Public\"\r\n)\r\n| render piechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "Cloud",
                      "type": "string"
                    },
                    "yAxis": [
                      {
                        "name": "max_corecount",
                        "type": "real"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "ae6afd75-d660-45ec-84ab-6cdb4d815503"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsDonut"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Core count - All Clouds",
                  "PartSubTitle": "1d",
                  "Query": "union \n(\ncustomMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType),Regn = tolower(trim(\" \", tostring(customDimensions.Region)))\n| where timestamp  > ago(1d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\n| where Computer !startswith(\"virtual\")\n| where Regn contains \"virginia\"\n| summarize max(value) by Computer, AKSResourceId, bin(timestamp,1d)  \n| summarize corecount = sum(max_value) by bin(timestamp,1d)\n| summarize max(corecount), Cloud=\"Fairfax\"\n),\n(\ncustomMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType), Regn = tolower(trim(\" \", tostring(customDimensions.Region)))\n| where timestamp  > ago(1d)\n| where isnotempty(AKSResourceId)\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\n| where Computer !startswith(\"virtual\")\n| where Regn contains \"china\"\n| summarize max(value) by Computer, AKSResourceId, bin(timestamp,1d)\n| summarize corecount = sum(max_value) by bin(timestamp,1d)\n| summarize max(corecount), Cloud=\"Mooncake\"\n),\n(\ncustomMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType), Regn = tolower(trim(\" \", tostring(customDimensions.Region)))\n| where timestamp  > ago(1d)\n| where isnotempty(AKSResourceId)\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\n| where Computer !startswith(\"virtual\")\n| where Regn !contains \"china\" and Regn !contains \"Virginia\"\n| summarize max(value) by Computer, AKSResourceId, bin(timestamp,1d)\n| summarize corecount = sum(max_value) by bin(timestamp,1d)\n| summarize max(corecount), Cloud=\"Public\"\n)\n| render piechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "4": {
            "position": {
              "x": 0,
              "y": 5,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp  > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem)))\r\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\r\n| extend OSType = iff(OS == \"windows\", \"Windows\", \"Linux\")\r\n| summarize count() by AKSResourceId, OSType, bin(timestamp, 1d)\r\n| summarize count() by OSType, timestamp\r\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "OSType",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "36d8ba17-4609-49e1-9510-f0060d594d7b"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "5": {
            "position": {
              "x": 5,
              "y": 5,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\r\n| where timestamp  > ago(7d)\r\n| where name == \"ContainerInventoryHeartBeatEvent\"\r\n| extend AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), Region = tolower(trim(\" \", tostring(customDimensions.Region)))\r\n| where isnotempty(AKSResourceId)\r\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\r\n| extend SoverignCloud = iff(Region contains \"china\", \"Mooncake\", iff(Region contains \"virginia\", \"Fairfax\", \"\"))\r\n| where SoverignCloud != \"\"\r\n| summarize count() by AKSResourceId,  SoverignCloud, bin(timestamp, 1d)\r\n| summarize count() by SoverignCloud, timestamp\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "SoverignCloud",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "0ec07991-9347-4408-a25b-25d035f00b5a"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count - GOV clouds",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "6": {
            "position": {
              "x": 10,
              "y": 5,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = iif(tostring(customDimensions.ClusterType)==\"ACS\", \"AKS-Engine\", tostring(customDimensions.ClusterType))\n| extend ResourceId = iif(ClusterType==\"AKS\", tostring(customDimensions.AKS_RESOURCE_ID), ACSResourceName)\n| where timestamp  > ago(14d)\n//| where isempty(ACSResourceName)\n| where Computer has(\"virtual\")\n//| where Computer == \"aks-agent-29138451-1\"\n| summarize count() by Computer,ResourceId, ClusterType,bin(timestamp,1d)  //| order by Computer asc\n| summarize VirtualNodeCount=count() by timestamp, ClusterType\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "VirtualNodeCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "ClusterType",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "9300ff38-8f20-4c41-bf4c-c43bb66e7e2b"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS -Virtual Kubelet cluster count",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = iif(tostring(customDimensions.ClusterType)==\"ACS\", \"AKS-Engine\", tostring(customDimensions.ClusterType))\n| extend ResourceId = iif(ClusterType==\"AKS\", tostring(customDimensions.AKS_RESOURCE_ID), ACSResourceName)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where Computer has(\"virtual\")\n| summarize count() by Computer,ResourceId, ClusterType,bin(timestamp,1d) \n| summarize VirtualNodeCount=count() by timestamp, ClusterType\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "7": {
            "position": {
              "x": 0,
              "y": 9,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp  > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend Computer = tostring(customDimensions.Computer), AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem)))\r\n| extend OSType = iff(OS =~ \"windows\", \"Windows\", \"Linux\")\r\n| summarize count() by Computer, AKSResourceId, OSType, bin(timestamp, 1d)\r\n| summarize count() by OSType, timestamp\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "OSType",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "4134bf77-6f9e-4773-a128-806a60233aef"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - VM count",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "8": {
            "position": {
              "x": 5,
              "y": 9,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\r\n| where timestamp  > ago(7d)\r\n| where name == \"ContainerInventoryHeartBeatEvent\"\r\n| extend Computer = tostring(customDimensions.Computer), AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), Region = tolower(trim(\" \", tostring(customDimensions.Region)))\r\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\r\n| extend SoverignCloud = iff(Region contains \"china\", \"Mooncake\", iff(Region contains \"virginia\", \"Fairfax\", \"\"))\r\n| where SoverignCloud != \"\"\r\n| summarize count() by Computer, AKSResourceId, SoverignCloud, bin(timestamp, 1d)\r\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\r\n| summarize count() by SoverignCloud, timestamp\r\n| render timechart\r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "SoverignCloud",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "12c15345-4994-4829-9a10-7fb911911d2e"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - VM count - GOV clouds",
                  "PartSubTitle": "7d",
                  "Query": "customEvents\n| where timestamp  > ago(7d)\n| where name == \"ContainerInventoryHeartBeatEvent\"\n| extend Computer = tostring(customDimensions.Computer), AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), Region = tolower(trim(\" \", tostring(customDimensions.Region)))\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\n| extend SoverignCloud = iff(Region contains \"china\", \"Mooncake\", iff(Region contains \"virginia\", \"Fairfax\", \"\"))\n| where SoverignCloud != \"\"\n| summarize count() by Computer, AKSResourceId, SoverignCloud, bin(timestamp, 1d)\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\n| summarize count() by SoverignCloud, timestamp\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "9": {
            "position": {
              "x": 10,
              "y": 9,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\r\n| where  name == \"ContainerLogDaemonSetHeartbeatEvent\"\r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType)\r\n| where timestamp > ago(5d) \r\n| summarize count() by WorkspaceID, ClusterType, bin(timestamp, 1h) \r\n| summarize count() by timestamp, ClusterType\r\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "ClusterType",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/074a7423-307c-47f3-b730-e8289171102d"
                },
                {
                  "name": "PartId",
                  "value": "aa4626d9-d63a-44eb-bf78-267c5ff324fc"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Workspace count",
                  "PartSubTitle": "7d",
                  "Query": "customEvents\n| where  name == \"ContainerInventoryHeartBeatEvent\"\n| extend d= customDimensions\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterTypeTemp = tostring(customDimensions.ClusterType)\n| extend ClusterType = iif (ClusterTypeTemp == \"ACS\", \"AKS-Engine\", ClusterTypeTemp)\n| where timestamp > ago(7d) \n| where ClusterType==\"AKS\"\n| summarize count() by WorkspaceID, ClusterType, bin(timestamp, 1d) \n| summarize count() by timestamp, ClusterType\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "10": {
            "position": {
              "x": 0,
              "y": 13,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp  > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), KernelVersion = tostring(customDimensions.KernelVersion)\r\n//| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| where isempty(ACSResourceName)\r\n| where isnotempty(AKSResourceId)\r\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\r\n| extend ClusterId = AKSResourceId\r\n| summarize count() by KernelVersion, ClusterId , bin(timestamp, 1d)\r\n| summarize clusterCount=count() by KernelVersion, timestamp\r\n| order by clusterCount desc\r\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "KernelVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "9af2a424-b099-4c1e-995c-1f7f8127cede"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by kernel version",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "11": {
            "position": {
              "x": 8,
              "y": 13,
              "colSpan": 7,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "72c8e8ca-dc16-47dc-b65c-6b5875eb600a",
                    "ResourceGroup": "ContainerInsightsAgent-Test",
                    "Name": "ContainerInsightsAgent-Test",
                    "ResourceId": "/subscriptions/72c8e8ca-dc16-47dc-b65c-6b5875eb600a/resourceGroups/ContainerInsightsAgent-Test/providers/microsoft.insights/components/ContainerInsightsAgent-Test"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"TelegrafMetricsSend429ErrorCount\" \r\n| extend clusterID = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| extend region = tostring(customDimensions.Region)\r\n| where tostring(customDimensions.ClusterType) == \"AKS\"\r\n| where value > 0\r\n| summarize all429errors=sum(value) by bin(timestamp, 1h), clusterID, region\r\n| summarize throttledClusters=count() by bin(timestamp, 1h), region\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "throttledClusters",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "5d4a5ec1-2b17-465d-957b-90337195dbbe"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Test"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Throttled cluster count by AKS region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"TelegrafMetricsSend429ErrorCount\" \n| extend clusterID = tostring(customDimensions.AKS_RESOURCE_ID)\n| extend region = tostring(customDimensions.Region)\n| where tostring(customDimensions.ClusterType) == \"AKS\"\n| where value > 0\n| summarize all429errors=sum(value) by bin(timestamp, 1d), clusterID, region\n| summarize throttledClusters=count() by bin(timestamp, 1d), region\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "12": {
            "position": {
              "x": 0,
              "y": 17,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "72c8e8ca-dc16-47dc-b65c-6b5875eb600a",
                    "ResourceGroup": "ContainerInsightsAgent-Test",
                    "Name": "ContainerInsightsAgent-Test",
                    "ResourceId": "/subscriptions/72c8e8ca-dc16-47dc-b65c-6b5875eb600a/resourceGroups/ContainerInsightsAgent-Test/providers/microsoft.insights/components/ContainerInsightsAgent-Test"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"TelegrafMetricsSend429ErrorCount\" \r\n| where tostring(customDimensions.AKS_RESOURCE_ID) has \"vishwathrott\"\r\n| extend clusterName = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where value > 0\r\n| summarize all429errors=sum(value) by bin(timestamp, 1h), tostring(customDimensions.WorkspaceID)\r\n| summarize throttledworkspaces=count() by bin(timestamp, 1h)\r\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "throttledworkspaces",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "10cdacc8-6e55-44e3-9465-52e00c29ddfc"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Test"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Throttled workspace count",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"TelegrafMetricsSend429ErrorCount\" \n| where tostring(customDimensions.ClusterType) == \"AKS\"\n| extend clusterID = tostring(customDimensions.AKS_RESOURCE_ID)\n| where value > 0\n| summarize all429errors=sum(value) by bin(timestamp, 1d), clusterID\n| summarize throttledworkspaces=count() by bin(timestamp, 1d)\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "13": {
            "position": {
              "x": 8,
              "y": 17,
              "colSpan": 7,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "72c8e8ca-dc16-47dc-b65c-6b5875eb600a",
                    "ResourceGroup": "ContainerInsightsAgent-Test",
                    "Name": "ContainerInsightsAgent-Test",
                    "ResourceId": "/subscriptions/72c8e8ca-dc16-47dc-b65c-6b5875eb600a/resourceGroups/ContainerInsightsAgent-Test/providers/microsoft.insights/components/ContainerInsightsAgent-Test"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"TelegrafMetricsSend429ErrorCount\" \r\n| where tostring(customDimensions.AKS_RESOURCE_ID) has \"vishwathrott\"\r\n| extend clusterName = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where value > 0\r\n| summarize all429errors=sum(value) by bin(timestamp, 1h), tostring(customDimensions.AKS_RESOURCE_ID)\r\n| summarize throttledClusters=count() by bin(timestamp, 1h)\r\n| render columnchart   \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "throttledClusters",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "08258690-11a5-4ca1-bf11-79eb254126d7"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Test"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Bar"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Throttled cluster count (throttled workspace)",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"TelegrafMetricsSend429ErrorCount\" \n| where tostring(customDimensions.ClusterType) == \"AKS\"\n| extend clusterID = tostring(customDimensions.AKS_RESOURCE_ID)\n| where clusterID != \"\"\n| where value > 0\n| summarize all429errors=sum(value) by bin(timestamp, 1d), clusterID\n| summarize throttledClusters=count() by bin(timestamp, 1d)\n| render columnchart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "14": {
            "position": {
              "x": 0,
              "y": 21,
              "colSpan": 16,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\">AKS Attach (by segments)</span>",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "15": {
            "position": {
              "x": 0,
              "y": 22,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType), Region = tostring(customDimensions.Region)\n| where timestamp  > ago(14d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where Computer !startswith(\"virtual\")\n//| where Computer == \"aks-agent-29138451-1\"\n| summarize max(value) by Computer, AKSResourceId, Region, bin(timestamp,1d)  //| order by Computer asc\n| summarize totalAttachedAKSCores = sum(max_value) by timestamp, Region //, Computer, AKSResourceId\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "totalAttachedAKSCores",
                        "type": "Double"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "Region",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "e3b2ca6c-6d7e-4b61-aba0-1d7ae78daa09"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Core count by region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID),  ClusterType = tostring(customDimensions.ClusterType), Region = tostring(customDimensions.Region)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where Computer !startswith(\"virtual\")\n| summarize max(value) by Computer, AKSResourceId, Region, bin(timestamp,1d)  \n| summarize totalAttachedAKSCores = sum(max_value) by timestamp, Region \n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "16": {
            "position": {
              "x": 5,
              "y": 22,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\n| where name == \"ContainerLogDaemonSetHeartbeatEvent\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), Region = tostring(customDimensions.AKS_REGION), ClusterType = tostring(customDimensions.ClusterType)\n| where timestamp  > ago(1d)\n| where isempty(ACSResourceName)\n| summarize count() by AKSResourceId, WorkspaceID, Region, bin(timestamp, 1h)\n| summarize SummarizedCount = count() by timestamp, Region\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "SummarizedCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "Region",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/074a7423-307c-47f3-b730-e8289171102d"
                },
                {
                  "name": "PartId",
                  "value": "b4128744-5acc-490e-8c03-69d23e3545b3"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count by Region",
                  "PartSubTitle": "7d",
                  "Query": "customEvents\n| where name == \"ContainerInventoryHeartBeatEvent\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), Region = tostring(customDimensions.Region), ClusterType = tostring(customDimensions.ClusterType)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| summarize count() by AKSResourceId, WorkspaceID, Region, bin(timestamp, 1d)\n| summarize SummarizedCount = count() by timestamp, Region\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "17": {
            "position": {
              "x": 10,
              "y": 22,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\n| where name == \"ContainerLogDaemonSetHeartbeatEvent\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType), Region = tostring(customDimensions.Region)\n| where timestamp  > ago(14d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| summarize count() by Computer, Region, ClusterType, bin(timestamp, 1d)\n| summarize AKSVMCount = count() by timestamp, Region\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "AKSVMCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "Region",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "37445cec-e143-4dd7-97a9-72a27ffa7cf2"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - VM count by Region",
                  "PartSubTitle": "7d",
                  "Query": "customEvents\n| where name == \"ContainerInventoryHeartBeatEvent\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID),  ClusterType = tostring(customDimensions.ClusterType), Region = tostring(customDimensions.Region)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| summarize count() by Computer, Region, ClusterType, bin(timestamp, 1d)\n| summarize AKSVMCount = count() by timestamp, Region\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "18": {
            "position": {
              "x": 0,
              "y": 26,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| where name == \"NodeCoreCapacity\"\n| extend kubeletVersion=tostring(customDimensions.KubeletVersion)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterID = iif (clusterType==\"AKS\", tostring(customDimensions.AKS_RESOURCE_ID), tostring(customDimensions.ACSResourceName))\n| where clusterID != \"my_acs_cluster_name\"\n| where clusterID != \"my_aks_cluster_name\"\n| where clusterType == \"AKS\"\n|where timestamp > ago(14d)\n| summarize count() by kubeletVersion, clusterID, bin(timestamp, 1d)  \n| summarize AKSclusterCount=count() by kubeletVersion, timestamp\n| order by AKSclusterCount desc\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "AKSclusterCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "kubeletVersion",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "65591fc3-350d-4cc5-922b-e02fa80683d9"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count by K8S version",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"NodeCoreCapacity\"\n| extend json= customDimensions\n| extend kubeletVersion=tostring(customDimensions.KubeletVersion)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterID = iif (clusterType==\"AKS\", tostring(customDimensions.AKS_RESOURCE_ID), tostring(customDimensions.ACSResourceName))\n| where clusterID != \"my_acs_cluster_name\"\n| where clusterID != \"my_aks_cluster_name\"\n| where clusterType == \"AKS\"\n|where timestamp > ago(7d)\n| summarize count() by kubeletVersion, clusterID, bin(timestamp, 1d)  \n| summarize AKSclusterCount=count() by kubeletVersion, timestamp\n| order by AKSclusterCount desc\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "19": {
            "position": {
              "x": 5,
              "y": 26,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend dockerVersion=tostring(customDimensions.DockerVersion)\r\n| extend AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where  AksResourceId has \"Microsoft.ContainerService/managedClusters\"\r\n| extend containerRuntime=iff(dockerVersion contains \"://\",  split(dockerVersion, \":\")[0], \"docker\")\r\n| summarize count() by containerRuntime, AksResourceId , bin(timestamp, 1d)\r\n| summarize clusterCount=count() by containerRuntime, timestamp\r\n| order by clusterCount desc\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "containerRuntime",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "01b615d2-7bd6-4553-b3e0-66d9610cde98"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count by Container Runtime",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "20": {
            "position": {
              "x": 11,
              "y": 26,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents \n| where name == \"ContainerInventoryHeartBeatEvent\"\n| extend dockerVersion=tostring(customDimensions.DockerVersion)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterID = iif (clusterType==\"AKS\", tostring(customDimensions.AKS_RESOURCE_ID), tostring(customDimensions.ACSResourceName))\n| where clusterID != \"my_acs_cluster_name\"\n| where clusterID != \"my_aks_cluster_name\"\n|where timestamp > ago(14d)\n| summarize count() by dockerVersion, clusterID , bin(timestamp, 1d) \n| summarize clusterCount=count() by dockerVersion, timestamp\n| order by clusterCount desc\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "dockerVersion",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "ed18c992-9bac-4511-a710-ef345c10c59e"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count by Docker version",
                  "PartSubTitle": "7d",
                  "Query": "customEvents \n| where name == \"ContainerInventoryHeartBeatEvent\"\n| extend dockerVersion=tostring(customDimensions.DockerVersion)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterID = iif (clusterType==\"AKS\", tostring(customDimensions.AKS_RESOURCE_ID), tostring(customDimensions.ACSResourceName))\n| where clusterType==\"AKS\"\n| where clusterID != \"my_acs_cluster_name\"\n| where clusterID != \"my_aks_cluster_name\"\n|where timestamp > ago(7d)\n| summarize count() by dockerVersion, clusterID , bin(timestamp, 1d) \n| summarize clusterCount=count() by dockerVersion, timestamp\n| order by clusterCount desc\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "21": {
            "position": {
              "x": 0,
              "y": 29,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union\n(\ncustomEvents\n| where name == \"ContainerLogDaemonSetHeartbeatEvent\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName), AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), AgentVersion = tostring(customDimensions.AgentVersion)\n| where isempty(AKSResourceId)\n| where timestamp  > ago(5d)\n| summarize count() by ACSResourceName, WorkspaceID, AgentVersion, bin(timestamp, 1h)\n| summarize SummarizedCount = count() by timestamp, AgentVersion), \n(\ncustomEvents\n| where name == \"ContainerLogDaemonSetHeartbeatEvent\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), Region = tostring(customDimensions.AKS_REGION), AgentVersion = tostring(customDimensions.AgentVersion)\n| where timestamp  > ago(1d)\n| where isempty(ACSResourceName)\n| summarize count() by AKSResourceId, WorkspaceID, AgentVersion, bin(timestamp, 1h)\n| summarize SummarizedCount = count() by timestamp, AgentVersion\n)\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "SummarizedCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "AgentVersion",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/074a7423-307c-47f3-b730-e8289171102d"
                },
                {
                  "name": "PartId",
                  "value": "6876c32f-6d7f-420f-be10-fc40c9b47ff5"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "customEvents\n| where name == \"ContainerInventoryHeartBeatEvent\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), Region = tostring(customDimensions.AKS_REGION), AgentVersion = tostring(customDimensions.AgentVersion)\n| where timestamp  > ago(7d)\n| where isnotempty(AKSResourceId)\n| summarize count() by AKSResourceId, WorkspaceID, AgentVersion, bin(timestamp, 1d)\n| summarize SummarizedCount = count() by timestamp, AgentVersion\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "22": {
            "position": {
              "x": 0,
              "y": 32,
              "colSpan": 16,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\">AKS Attach (by features)</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "23": {
            "position": {
              "x": 0,
              "y": 33,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\n| where name == \"AKSCustomMetricsMDMSendSuccessful\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), Region = tostring(customDimensions.Region), ClusterType = tostring(customDimensions.ClusterType)\n| where timestamp  > ago(14d)\n| where isempty(ACSResourceName)\n| summarize count() by AKSResourceId, WorkspaceID, Region, bin(timestamp, 1d)\n| summarize SummarizedCount = count() by timestamp, Region\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "SummarizedCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "Region",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "e3ed0ee8-8c2f-467f-8eed-7cde83126470"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - MDM metrics - Cluster count by region",
                  "PartSubTitle": "7d",
                  "Query": "customEvents\n| where name == \"AKSCustomMetricsMDMSendSuccessful\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), Region = tostring(customDimensions.Region), ClusterType = tostring(customDimensions.ClusterType)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| summarize count() by AKSResourceId, WorkspaceID, Region, bin(timestamp, 1d)\n| summarize SummarizedCount = count() by timestamp, Region\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "24": {
            "position": {
              "x": 6,
              "y": 33,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\n| where name == \"AKSCustomMetricsMDMSendSuccessful\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType), Region = tostring(customDimensions.Region)\n| where timestamp  > ago(14d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| summarize count() by Computer, Region, ClusterType, bin(timestamp, 1d)\n| summarize AKSVMCount = count() by timestamp, Region\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "AKSVMCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "Region",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "21fa086b-b265-470b-bd7c-c10830716d30"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - MDM metrics - VM count by region",
                  "PartSubTitle": "7d",
                  "Query": "customEvents\n| where name == \"AKSCustomMetricsMDMSendSuccessful\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), ClusterType = tostring(customDimensions.ClusterType), Region = tostring(customDimensions.Region)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| summarize count() by Computer, Region, ClusterType, bin(timestamp, 1d)\n| summarize AKSVMCount = count() by timestamp, Region\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "25": {
            "position": {
              "x": 12,
              "y": 33,
              "colSpan": 4,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| extend AKSclusterid=tostring(customDimensions.AKS_RESOURCE_ID)\n| extend ACSclusterid=tostring(customDimensions.ACS_RESOURCE_NAME)\n| extend clusterType= iif(strlen(trim(\" \", AKSclusterid)) > 0, \"AKS\", \"AKS-Engine\")\n| where timestamp > ago(14d)\n| where clusterType == \"AKS\"\n| where name == \"TelegrafMetricsSentCount\"\n//| summarize ptile99TgfMetricsSentCount=percentile(value, 99) by bin(timestamp, 1d) , clusterType\n| summarize dcount(AKSclusterid) by bin(timestamp,1d)\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_AKSclusterid",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "d1b73c44-1c5d-419a-86ab-1ade38fe68ab"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Telegraf metrics - Cluster count",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| extend dim=customDimensions\n| extend AKSclusterid=tostring(customDimensions.AKS_RESOURCE_ID)\n| extend ACSclusterid=tostring(customDimensions.ACS_RESOURCE_NAME)\n| extend clusterType= iif(strlen(trim(\" \", AKSclusterid)) > 0, \"AKS\", \"AKS-Engine\")\n| where timestamp > ago(7d)\n| where clusterType == \"AKS\"\n| where name == \"TelegrafMetricsSentCount\"\n| where value > 0\n| summarize dcount(AKSclusterid) by bin(timestamp,1d), clusterType\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "26": {
            "position": {
              "x": 0,
              "y": 36,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clustercustomsettings = tostring(customDimensions.clustercustomsettings)\r\n| extend computer = tostring(customDimensions.Computer)\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType)\r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where  clustercustomsettings == \"true\"\r\n| where isnotempty(AKSResourceId)\r\n| where timestamp > ago(14d)\r\n| summarize count() by AKSResourceId, WorkspaceID, ClusterType, bin(timestamp, 1d)\r\n| summarize SummarizedCount = count() by timestamp, ClusterType\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "SummarizedCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "ClusterType",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "819ac558-7f0a-41be-b8a8-6a2a35bf12eb"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count - configmap",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clustercustomsettings = tostring(customDimensions.clustercustomsettings)\n| extend computer = tostring(customDimensions.Computer)\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType)\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\n| where PodName !has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where  clustercustomsettings == \"true\"\n| where isnotempty(AKSResourceId)\n| where timestamp > ago(7d)\n| summarize count() by AKSResourceId, WorkspaceID, ClusterType, bin(timestamp, 1d)\n| summarize SummarizedCount = count() by timestamp, ClusterType\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "27": {
            "position": {
              "x": 5,
              "y": 36,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clustercustomsettings = tostring(customDimensions.clustercustomsettings)\r\n| extend computer = tostring(customDimensions.Computer)\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType)\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where  clustercustomsettings == \"true\"\r\n| where isempty(ACSResourceName)\r\n| where isnotempty(AKSResourceId)\r\n| where timestamp > ago(14d)\r\n| summarize count() by computer, ClusterType, bin(timestamp, 1d)\r\n| summarize Nodecount = count() by timestamp, ClusterType\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "Nodecount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "ClusterType",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "c354ccc1-9b90-4682-8edd-babbde46d2d4"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - VM count - configmap",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clustercustomsettings = tostring(customDimensions.clustercustomsettings)\n| extend computer = tostring(customDimensions.Computer)\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType)\n| where PodName !has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where  clustercustomsettings == \"true\"\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where timestamp > ago(7d)\n| summarize count() by computer, ClusterType, bin(timestamp, 1d)\n| summarize Nodecount = count() by timestamp, ClusterType\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "28": {
            "position": {
              "x": 10,
              "y": 36,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union (customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clustercustomsettings = tostring(customDimensions.clustercustomsettings)\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = \"OFF STDOUT\"\r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID), clusterstdoutlogs = tostring(customDimensions.clusterstdoutlogs)\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where clusterstdoutlogs == \"false\"\r\n| where isnotempty(AKSResourceId)\r\n| where timestamp > ago(7d)\r\n| summarize count() by AKSResourceId, WorkspaceID, ClusterType, bin(timestamp, 1d)\r\n| summarize clustercount = count() by timestamp, ClusterType),\r\n(\r\ncustomMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clustercustomsettings = tostring(customDimensions.clustercustomsettings)\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = \"OFF STDERR\"\r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID), clusterstderrlogs = tostring(customDimensions.clusterstderrlogs)\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where clusterstderrlogs == \"false\"\r\n| where isnotempty(AKSResourceId)\r\n| where timestamp > ago(7d)\r\n| summarize count() by AKSResourceId, WorkspaceID, ClusterType, bin(timestamp, 1d)\r\n| summarize clustercount = count() by timestamp, ClusterType\r\n),\r\n(customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clustercustomsettings = tostring(customDimensions.clustercustomsettings)\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = \"OFF ENVVAR\"\r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID), clusterenvvars = tostring(customDimensions.clusterenvvars)\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where clusterenvvars == \"false\"\r\n| where isnotempty(AKSResourceId)\r\n| where timestamp > ago(7d)\r\n| summarize count() by AKSResourceId, WorkspaceID, ClusterType, bin(timestamp, 1d)\r\n| summarize clustercount = count() by timestamp, ClusterType),\r\n(\r\n//*_kube-system_*.log\r\ncustomMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clustercustomsettings = tostring(customDimensions.clustercustomsettings)\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = \"ON kube-sys\"\r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID), clusterlogtailexcludepath = tostring(customDimensions.clusterlogtailexcludepath)\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where isnotempty(clusterlogtailexcludepath)\r\n| where clusterlogtailexcludepath !has \"kube-system\"\r\n| where isnotempty(AKSResourceId)\r\n| where timestamp > ago(7d)\r\n| summarize count() by AKSResourceId, WorkspaceID, ClusterType, bin(timestamp, 1d)\r\n| summarize clustercount = count() by timestamp, ClusterType\r\n)\r\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clustercount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "ClusterType",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "cf0edc18-5703-4639-b9c9-c466f3e276d4"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count by Log collection settings",
                  "PartSubTitle": "ContainerInsightsAgent-Prod",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"cpuUsageNanoCores\"\n| extend PodName = tostring(customDimensions.PodName)\n| where PodName !has \"omsagent-rs\"\n| extend clusterstdoutlogs = tostring(customDimensions.clusterstdoutlogs),  clusterstderrlogs = tostring(customDimensions.clusterstderrlogs)\n| extend clusterenvvars = tostring(customDimensions.clusterenvvars), clusterlogtailexcludepath = tostring(customDimensions.clusterlogtailexcludepath)\n| extend clusterCLEnrich = tostring(customDimensions.clusterCLEnrich) \n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\n| extend AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\n| extend ClusterTypeBag = pack_array(iff(clusterstdoutlogs == \"false\", \"OFF STDOUT\", \"\"),\n    iff(clusterstderrlogs == \"false\", \"OFF STDERR\", \"\"),\n    iff(clusterenvvars == \"false\", \"OFF ENVVAR\", \"\"),\n    iff(isnotempty(clusterlogtailexcludepath) and clusterlogtailexcludepath !has \"kube-system\", \"ON KUBE-SYSTEM\", \"\"),\n    iff(clusterCLEnrich == \"true\", \"ON ENRICH\", \"\"))\n| mv-expand ClusterTypeBag\n| extend ClusterType = tostring(ClusterTypeBag)\n| where ClusterType != \"\" \n| summarize count() by AKSResourceId, WorkspaceID, tostring(ClusterType), bin(timestamp, 1d)\n| summarize clustercount = count() by timestamp, tostring(ClusterType)\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "29": {
            "position": {
              "x": 0,
              "y": 39,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"NodeCoreCapacity\" or name == \"cpuUsageNanoCores\" \r\n| where customDimensions.rsPromUrl > 0 or customDimensions.rsPromServ > 0 or customDimensions.rsPromMonPods == false or customDimensions.dsPromUrl > 0\r\n| summarize dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 1d)\r\n| render timechart \r\n"
                },
                {
                  "name": "TimeRange",
                  "value": "P7D"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_AKS_RESOURCE_ID",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "4a74f8ea-8d9e-42a9-8640-bdb71ed09ee2"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count - Prometheus ",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"NodeCoreCapacity\" or name == \"cpuUsageNanoCores\" \r\n| where timestamp > ago(7d)\n| where customDimensions.rsPromUrl > 0 or customDimensions.rsPromServ > 0 or customDimensions.rsPromMonPods == true or customDimensions.dsPromUrl > 0\n| where customDimensions.AKS_RESOURCE_ID != \"\"\n| summarize dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "30": {
            "position": {
              "x": 5,
              "y": 39,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"NodeCoreCapacity\" or name == \"cpuUsageNanoCores\" \r\n| where timestamp > ago(7d)\r\n| where customDimensions.rsPromServ > 0 or customDimensions.rsPromMonPods == true or customDimensions.dsPromUrl > 0\r\n| extend scrapeInterval = \r\n     iif(isnotempty(tostring(customDimensions.dsPromInt)),tostring(customDimensions.dsPromInt),tostring(customDimensions.rsPromInt))\r\n| where isnotempty(scrapeInterval)\r\n| where customDimensions.AKS_RESOURCE_ID != \"\"\r\n| summarize clusterCount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 6h), scrapeInterval\r\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "scrapeInterval",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "56d5b115-550e-4e2c-9ac0-20b6f2a49455"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count by Prometheus scraping frequency",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"NodeCoreCapacity\" or name == \"cpuUsageNanoCores\" \r\n| where timestamp > ago(7d)\n| where customDimensions.rsPromServ > 0 or customDimensions.rsPromMonPods == true or customDimensions.dsPromUrl > 0\n| extend scrapeInterval = \n     iif(isnotempty(tostring(customDimensions.dsPromInt)),tostring(customDimensions.dsPromInt),tostring(customDimensions.rsPromInt))\n| where isnotempty(scrapeInterval)\n| where customDimensions.AKS_RESOURCE_ID != \"\"\n| summarize clusterCount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 1d), scrapeInterval\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "31": {
            "position": {
              "x": 11,
              "y": 39,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"NodeCoreCapacity\" or name == \"cpuUsageNanoCores\" \r\n| extend AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where AKSResourceId has \"Microsoft.ContainerService/managedClusters\"\r\n| extend rsPromUrl = iff(customDimensions.rsPromUrl > 0, true, false)\r\n| extend rsPromServ  = iff(customDimensions.rsPromServ > 0, true, false)\r\n| extend rsPromMonPods = iff(customDimensions.rsPromMonPods == true, true, false)\r\n| extend dsPromUrl = iff(customDimensions.dsPromUrl > 0, true, false)\r\n| extend AnnonationTypeBag = pack_array(iff(rsPromUrl == true, \"CLUSTER_URL\", \"\"),\r\n    iff(rsPromServ == true, \"CLUSTER_SVC\", \"\"),\r\n    iff(rsPromMonPods == true, \"POD_ANNO\", \"\"),\r\n    iff(dsPromUrl == true, \"NODE_URL\", \"\"))\r\n| mv-expand AnnonationTypeBag\r\n| extend AnnotationType = tostring(AnnonationTypeBag)\r\n| where AnnotationType != \"\" \t\r\n| summarize dcount(tostring(AKSResourceId)) by AnnotationType, bin(timestamp, 1d)\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_AKSResourceId",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "AnnotationType",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "10463980-1ee5-4755-8a2e-7cfc4c13a5ba"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Cluster count by Prometheus scraping mechanism",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "32": {
            "position": {
              "x": 0,
              "y": 42,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name has \"NodeCoreCapacity\" \r\n| where timestamp > ago(7d)\r\n| where customDimensions.nvigpus > 0 or customDimensions.amdgpus > 0 \r\n| where customDimensions.AKS_RESOURCE_ID != \"\"\r\n| summarize dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 6h)\r\n| render barchart kind= unstacked \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_AKS_RESOURCE_ID",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "54c064bc-60a7-4b9a-9101-117efe11d2f1"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "GroupedBar"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - GPU Cluster count",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name has \"NodeCoreCapacity\" \n| where timestamp > ago(7d)\n| where customDimensions.nvigpus > 0 or customDimensions.amdgpus > 0 \n| where customDimensions.AKS_RESOURCE_ID != \"\"\n| summarize dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 1d)\n| render barchart kind= unstacked \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "33": {
            "position": {
              "x": 8,
              "y": 42,
              "colSpan": 7,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name has \"NodeCoreCapacity\" \r\n| where timestamp > ago(7d)\r\n| where customDimensions.nvigpus > 0 or customDimensions.amdgpus > 0 \r\n| where customDimensions.AKS_RESOURCE_ID != \"\"\r\n| summarize gpuClusterCount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 6h), tostring(customDimensions.Region)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "gpuClusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "customDimensions_Region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "86246fad-9a16-4251-88df-9eb3288448a2"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - GPU Cluster count by region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name has \"NodeCoreCapacity\" \n| where timestamp > ago(7d)\n| where customDimensions.nvigpus > 0 or customDimensions.amdgpus > 0 \n| where customDimensions.AKS_RESOURCE_ID != \"\"\n| summarize gpuClusterCount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 1d), tostring(customDimensions.Region)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "34": {
            "position": {
              "x": 0,
              "y": 46,
              "colSpan": 15,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\">AKS - Large Clusters</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "35": {
            "position": {
              "x": 0,
              "y": 47,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where Computer !startswith(\"virtual\")\n| summarize corespernode=max(value) by Computer, AKSResourceId, region, bin(timestamp,1d) \n| summarize corespercluster=sum(corespernode) by AKSResourceId, region, bin(timestamp,1d)  \n| summarize MaxCoresPerCluster = max(corespercluster) by region, bin(timestamp,1d)\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxCoresPerCluster",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "c84e1200-1b6d-4a93-90c9-f62576662398"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Max Core count per cluster by Region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where Computer !startswith(\"virtual\")\n| summarize corespernode=max(value) by Computer, AKSResourceId, region, bin(timestamp,1d) \n| summarize corespercluster=sum(corespernode) by AKSResourceId, region, bin(timestamp,1d)  \n| summarize MaxCoresPerCluster = max(corespercluster) by region, bin(timestamp,1d)\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "36": {
            "position": {
              "x": 5,
              "y": 47,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where Computer !startswith(\"virtual\")\n| summarize nodespercluster=dcount(Computer) by AKSResourceId, region, bin(timestamp,1d)  \n| summarize maxNodesPerCluster=max(nodespercluster) by region, bin(timestamp, 1d)\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "maxNodesPerCluster",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "3bb61777-64fc-432e-9782-6cb6ddeb8912"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Max Node count per cluster by Region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"NodeCoreCapacity\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where Computer !startswith(\"virtual\")\n| summarize nodespercluster=dcount(Computer) by AKSResourceId, region, bin(timestamp,1d)  \n| summarize maxNodesPerCluster=max(nodespercluster) by region, bin(timestamp, 1d)\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "37": {
            "position": {
              "x": 10,
              "y": 47,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"PodCount\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\r\n| where timestamp  > ago(7d)\r\n| where isempty(ACSResourceName)\r\n| where isnotempty(AKSResourceId)\r\n| where Computer !startswith(\"virtual\")\r\n| summarize maxpodspercluster=max(value) by AKSResourceId, region, bin(timestamp,1d) \r\n| summarize MaxPodCountPerCluster = max(maxpodspercluster) by region, bin(timestamp,1d)\r\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxPodCountPerCluster",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "2f17e8f1-aabe-4573-ad16-64562a42ea34"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Max Pod count per cluster by Region",
                  "PartSubTitle": "3d",
                  "Query": "customMetrics\n| where name == \"PodCount\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\n| where timestamp  > ago(3d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| where Computer !startswith(\"virtual\")\n| summarize maxpodspercluster=max(value) by AKSResourceId, region, bin(timestamp,1d) \n| summarize MaxPodCountPerCluster = max(maxpodspercluster) by region, bin(timestamp,1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "38": {
            "position": {
              "x": 0,
              "y": 50,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"LastProcessedContainerInventoryCount\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\r\n| where timestamp  > ago(7d)\r\n| where isempty(ACSResourceName)\r\n| where isnotempty(AKSResourceId)\r\n| summarize maxcontainerspernode=max(value) by Computer, AKSResourceId, region, bin(timestamp, 1d)\r\n| summarize maxcontainerspernodepercluster=max(maxcontainerspernode) by AKSResourceId, region, bin(timestamp,1d) \r\n| summarize MaxContainerCountPerNodePerCluster = max(maxcontainerspernodepercluster) by region, bin(timestamp,1d)\r\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxContainerCountPerNodePerCluster",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "51d1b1d4-03e1-47bc-b4f0-725cf4b8774d"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Max Container count per node by Region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"LastProcessedContainerInventoryCount\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| summarize maxcontainerspernode=max(value) by Computer, AKSResourceId, region, bin(timestamp, 1d)\n| summarize maxcontainerspernodepercluster=max(maxcontainerspernode) by AKSResourceId, region, bin(timestamp,1d) \n| summarize MaxContainerCountPerNodePerCluster = max(maxcontainerspernodepercluster) by region, bin(timestamp,1d)\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "39": {
            "position": {
              "x": 5,
              "y": 50,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"LastProcessedContainerInventoryCount\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\r\n| where timestamp  > ago(7d)\r\n| where isempty(ACSResourceName)\r\n| where isnotempty(AKSResourceId)\r\n| summarize maxcontainerspernode=max(value) by Computer, AKSResourceId, region, bin(timestamp, 1d)\r\n| summarize maxcontainerspercluster=sum(maxcontainerspernode) by AKSResourceId, region, bin(timestamp,1d) \r\n| summarize MaxContainerCountPerCluster = max(maxcontainerspercluster) by region, bin(timestamp,1d)\r\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxContainerCountPerCluster",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "818c1e5c-f95c-4ac3-aac4-780c952c7012"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Max Container count per cluster by Region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"LastProcessedContainerInventoryCount\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| summarize maxcontainerspernode=max(value) by Computer, AKSResourceId, region, bin(timestamp, 1d)\n| summarize maxcontainerspercluster=sum(maxcontainerspernode) by AKSResourceId, region, bin(timestamp,1d) \n| summarize MaxContainerCountPerCluster = max(maxcontainerspercluster) by region, bin(timestamp,1d)\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "40": {
            "position": {
              "x": 0,
              "y": 53,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"ControllerCount\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\r\n| where timestamp  > ago(7d)\r\n| where isempty(ACSResourceName)\r\n| where isnotempty(AKSResourceId)\r\n| summarize maxcontrollerspercluster=max(value) by AKSResourceId, region, bin(timestamp,1d) \r\n| summarize MaxControllerCountPerCluster = max(maxcontrollerspercluster) by region, bin(timestamp,1d)\r\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxControllerCountPerCluster",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "f00ce79d-2def-4e3c-ac9c-85c451a93387"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Max Controller count per cluster by Region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"ControllerCount\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\n| where timestamp  > ago(7d)\n| where isempty(ACSResourceName)\n| where isnotempty(AKSResourceId)\n| summarize maxcontrollerspercluster=max(value) by AKSResourceId, region, bin(timestamp,1d) \n| summarize MaxControllerCountPerCluster = max(maxcontrollerspercluster) by region, bin(timestamp,1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "41": {
            "position": {
              "x": 5,
              "y": 53,
              "colSpan": 11,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| where timestamp > ago(3d)\n| where name == \"PodCount\"\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\n| extend region=tostring(customDimensions.Region)\n| extend PodCount=value\n//| project PodCount=value, aks, region, timestamp\n| join( customMetrics\n| where timestamp > ago(3d)\n| where name == \"ControllerCount\"\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\n| extend region=tostring(customDimensions.Region)\n| extend controllercd = customDimensions\n)\non aks\n| extend JobCount=case(isempty(toint(parse_json(tostring(controllercd.ControllerData)).Job)) == true,  0, toint(parse_json(tostring(controllercd.ControllerData)).Job))\n| project podswithoutjobs=(PodCount-JobCount), JobCount, PodCount, aks, region, timestamp\n| summarize MaxPodCountWithoutJobs=max(podswithoutjobs) by region, bin(timestamp, 6h)\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxPodCountWithoutJobs",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "80b190c8-0466-4e74-a7e9-443837fcf764"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Max Pod count(No Job) per cluster by region",
                  "PartSubTitle": "3d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "42": {
            "position": {
              "x": 0,
              "y": 57,
              "colSpan": 15,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\"> AKS - Agent rollout status by region</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "43": {
            "position": {
              "x": 0,
              "y": 58,
              "colSpan": 15,
              "rowSpan": 5
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\n| where name == \"ContainerLogDaemonSetHeartbeatEvent\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), Region = tostring(customDimensions.Region), ClusterType = tostring(customDimensions.ClusterType), AgentVersion = tostring(customDimensions.AgentVersion)\n| where AgentVersion==\"ciprod01092019\"\n| where timestamp  > ago(14d)\n| where isempty(ACSResourceName)\n| summarize count() by AKSResourceId, WorkspaceID, Region, bin(timestamp, 1d)\n| summarize ClusterCount = count() by Region ,timestamp//, Region\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "ClusterCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "Region",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "6c6db965-30f7-495e-8ca3-4b44f761a61e"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Latest agent (ciprod03022020) - Cluster count",
                  "PartSubTitle": "15d",
                  "Query": "customEvents\n| where name == \"ContainerInventoryHeartBeatEvent\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), Region = tostring(customDimensions.Region), ClusterType = tostring(customDimensions.ClusterType), AgentVersion = tostring(customDimensions.AgentVersion)\n| where AgentVersion==\"ciprod03022020\"\n// where AgentVersion==\"ciprod09262019\"\n| where timestamp  > ago(2d)\n| where isempty(ACSResourceName)\n| summarize count() by AKSResourceId, WorkspaceID, Region, bin(timestamp, 2h)\n| summarize ClusterCount = count() by Region ,timestamp//, Region\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "44": {
            "position": {
              "x": 0,
              "y": 63,
              "colSpan": 15,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\">AKS - Replica set Performance</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "45": {
            "position": {
              "x": 0,
              "y": 64,
              "colSpan": 8,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union  (  customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where clusterType ==\"AKS\"\n| where PodName has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where timestamp > ago(7d)\n| summarize averageMilliCores = avg(value/1000000) by bin(timestamp, 6h)  ),  (  customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where clusterType ==\"AKS\"\n| where PodName has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where timestamp > ago(7d)\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 6h)   ),  (  customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where clusterType ==\"AKS\"\n| where PodName has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where timestamp > ago(7d)\n| summarize 99PTileMilliCores = percentile(value/1000000, 99) by bin(timestamp, 6h)  ), (  customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend limitmc=150\n| where clusterType ==\"AKS\"\n| where PodName has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where timestamp > ago(7d)\n| summarize LimitMilliCores = max(limitmc) by bin(timestamp, 6h)  )\n|render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "averageMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "95PTileMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "99PTileMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "LimitMilliCores",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "35a21df1-114b-4f8c-9a33-c71a4be9aa17"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Replica CPU usage",
                  "PartSubTitle": "ContainerInsightsAgent-Prod",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"cpuUsageNanoCores\"\n| extend PodName=tostring(customDimensions.PodName)\n| where PodName has \"omsagent-rs\"\n| extend AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where AksResourceId has \"Microsoft.ContainerService/managedClusters\"\n| summarize averageMilliCores = avg(value/1000000), 95PTileMilliCores = percentile(value/1000000, 95), 99PTileMilliCores = percentile(value/1000000, 99), LimitMilliCores = 1000 by bin(timestamp, 1d)\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "46": {
            "position": {
              "x": 8,
              "y": 64,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"memoryRssBytes\"\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| where PodName has \"omsagent-rs\"\r\n| extend AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where AksResourceId has \"Microsoft.ContainerService/managedClusters\"\r\n| summarize averageMiB = avg(value/(1024*1024)), 95PTileMiB = percentile(value/(1024*1024), 95), 99PTileMB = percentile(value/(1024*1024), 99), limitMiBytes = 500 by bin(timestamp, 1d)\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "averageMiB",
                        "type": "real"
                      },
                      {
                        "name": "95PTileMiB",
                        "type": "real"
                      },
                      {
                        "name": "99PTileMB",
                        "type": "real"
                      },
                      {
                        "name": "limitMiBytes",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "82790bf8-36e9-4fbc-9651-809f9e1585c8"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Replica Memory usage",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"memoryRssBytes\"\n| extend PodName=tostring(customDimensions.PodName)\n| where PodName has \"omsagent-rs\"\n| extend AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where AksResourceId has \"Microsoft.ContainerService/managedClusters\"\n| summarize averageMiB = avg(value/(1024*1024)), 95PTileMiB = percentile(value/(1024*1024), 95), 99PTileMB = percentile(value/(1024*1024), 99), limitMiBytes = 750 by bin(timestamp, 1d)\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "47": {
            "position": {
              "x": 0,
              "y": 67,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend region=tostring(customDimensions.Region)\n| where clusterType ==\"AKS\"\n| where PodName has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where timestamp > ago(7d)\n| where region != \"\"\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 6h), region\n|render timechart | limit 100000\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "95PTileMilliCores",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "bdf4e924-e105-476c-9ea4-0f83d3e26814"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Replica CPU usage (95th ptile) by Region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend region=tostring(customDimensions.Region)\n| where clusterType ==\"AKS\"\n| where PodName has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where timestamp > ago(7d)\n| where region != \"\"\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 1d), region\n|render timechart | limit 100000\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "48": {
            "position": {
              "x": 8,
              "y": 67,
              "colSpan": 7,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend region=tostring(customDimensions.Region)\n| where clusterType ==\"AKS\"\n| where PodName has \"omsagent-rs\"\n| where name == \"memoryRssBytes\"\n| where timestamp > ago(7d)\n| where region != \"\"\n| summarize 95PTileMiB = percentile(value/ (1024*1024), 95) by bin(timestamp, 6h),region\n| render timechart | limit 100000 \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "95PTileMiB",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "b92d4a12-2208-4787-878a-d32a1ce78604"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Replica Memory usage (95th ptile) by Region",
                  "PartSubTitle": "7d",
                  "Query": "set notruncation;\ncustomMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend region=tostring(customDimensions.Region)\n| where clusterType ==\"AKS\"\n| where PodName has \"omsagent-rs\"\n| where name == \"memoryRssBytes\"\n| where timestamp > ago(7d)\n| where region != \"\"\n| summarize 95PTileMiB = percentile(value/ (1024*1024), 95) by bin(timestamp, 1d),region\n| order by region asc\n| render timechart | limit 100000 \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "49": {
            "position": {
              "x": 0,
              "y": 71,
              "colSpan": 15,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend agentVersion=tostring(customDimensions.AgentVersion)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend clusterId=tostring(customDimensions.AKS_RESOURCE_ID)\r\n| extend fileName0=split(tostring(details[0].parsedStack[0].fileName),\"/\")\r\n| extend fileName1=array_length(fileName0)-1\r\n| extend fileName= strcat(fileName0[fileName1], \".\",tostring(details[0].parsedStack[0].line),\"::\",tostring(details[0].parsedStack[0].method))\r\n| where controller == \"ReplicaSet\"\r\n| where clusterType == \"AKS\"\r\n| where timestamp > ago(7d)\r\n| summarize exceptionCount=count() by fileName, outerMethod, clusterId, outerMessage, agentVersion\r\n| summarize clusterCount=dcount(clusterId) by exceptionCount, fileName, outerMessage, outerMethod, agentVersion\r\n| order by clusterCount desc, exceptionCount desc, agentVersion desc\r\n| take 25\r\n"
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "c6c0bed5-3724-46a3-81da-ab6f072a4696"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsGrid"
                },
                {
                  "name": "Dimensions",
                  "isOptional": true
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Replica - Top 25 exceptions by count",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterId=tostring(customDimensions.AKS_RESOURCE_ID)\n| extend fileName0=split(tostring(details[0].parsedStack[0].fileName),\"/\")\n| extend fileName1=array_length(fileName0)-1\n| extend fileName= strcat(fileName0[fileName1], \".\",tostring(details[0].parsedStack[0].line),\"::\",tostring(details[0].parsedStack[0].method))\n| where controller == \"ReplicaSet\"\n| where clusterType == \"AKS\"\n| where timestamp > ago(7d)\n//| summarize exceptionCount=count() by fileName, outerMethod, outerMessage, agentVersion //,clusterId\n//| summarize clusterCount=dcount(clusterId) by exceptionCount, fileName, outerMessage, outerMethod, agentVersion\n| summarize clustercount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by fileName, outerMethod, outerMessage, agentVersion\n| project fileName, clustercount, message=outerMessage, method=outerMethod, agentVersion //clusterCount\n| order by  clustercount desc, agentVersion desc //clusterCount desc\n| take 25\n",
                  "GridColumnsWidth": {
                    "fileName": "400px",
                    "clusterCount": "112px",
                    "exceptionCount": "173px",
                    "outerMessage": "256px",
                    "outerMethod": "255px",
                    "agentVersion": "335px",
                    "message": "242px",
                    "method": "198px"
                  }
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "50": {
            "position": {
              "x": 0,
              "y": 75,
              "colSpan": 15,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| where customDimensions.AKS_RESOURCE_ID != \"\"\r\n| where timestamp > ago(7d)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where controller == \"ReplicaSet\"\r\n| where clusterType==\"AKS\"\r\n| summarize clustercount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by outerMessage\r\n| order by clustercount desc\r\n| take 5\r\n| join (exceptions\r\n| where customDimensions.AKS_RESOURCE_ID != \"\"\r\n| where timestamp > ago(7d)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| where controller == \"ReplicaSet\"\r\n| where clusterType==\"AKS\"\r\n) on outerMessage \r\n| summarize dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by outerMessage, bin(timestamp, 1h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_AKS_RESOURCE_ID",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "outerMessage",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "6f626708-c9cb-4aed-86e1-66fda7a611f0"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Replicaset top exceptions by cluster count",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| where customDimensions.AKS_RESOURCE_ID != \"\"\n| where timestamp > ago(7d)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where controller == \"ReplicaSet\"\n| where clusterType==\"AKS\"\n| summarize clustercount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by outerMessage\n| order by clustercount desc\n| take 5\n| join (exceptions\n| where customDimensions.AKS_RESOURCE_ID != \"\"\n| where timestamp > ago(7d)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controller=tostring(customDimensions.ControllerType)\n| where controller == \"ReplicaSet\"\n| where clusterType==\"AKS\"\n) on outerMessage \n| summarize dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by outerMessage, bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "51": {
            "position": {
              "x": 0,
              "y": 79,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\n| extend region=tostring(customDimensions.Region)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterTypeControllerType = strcat(clusterType, \"-\" , controller)\n| where controller == \"ReplicaSet\"\n| where clusterType==\"AKS\"\n| where timestamp > ago(7d)\n| summarize replicaExceptionCount=count() by region, bin(timestamp, 6h)\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "replicaExceptionCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "c994face-c305-4e79-9784-2db835ae4efd"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Replica exceptions by Region",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend region=tostring(customDimensions.Region)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterTypeControllerType = strcat(clusterType, \"-\" , controller)\n| where controller == \"ReplicaSet\"\n| where clusterType==\"AKS\"\n| where timestamp > ago(7d)\n| summarize replicaExceptionCount=count() by region, bin(timestamp, 1d)\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "52": {
            "position": {
              "x": 5,
              "y": 79,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterTypeControllerType = strcat(clusterType, \"-\" , controller)\n| where controller == \"ReplicaSet\"\n| where clusterType==\"AKS\"\n| where timestamp > ago(7d)\n| summarize replicaExceptionCount=count() by agentVersion, bin(timestamp, 6h)\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "replicaExceptionCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "agentVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "e9b2bd78-11c1-440e-aa16-a9aa6f3ce575"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Replica exceptions by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterTypeControllerType = strcat(clusterType, \"-\" , controller)\n| where controller == \"ReplicaSet\"\n| where clusterType==\"AKS\"\n| where timestamp > ago(7d)\n| summarize replicaExceptionCount=count() by agentVersion, bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "53": {
            "position": {
              "x": 10,
              "y": 79,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions \n| extend controller=tostring(customDimensions.ControllerType)\n| extend dockerVersion = tostring(customDimensions.DockerVersion)\n| where controller == \"ReplicaSet\"\n| where dockerVersion != \"\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by dockerVersion, bin(timestamp, 6h)\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "exceptionCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "dockerVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "f8eb1b29-4531-4ffa-8939-e2a1aa8ee96b"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Replica exceptions by Docker version",
                  "PartSubTitle": "7d",
                  "Query": "exceptions \n| extend controller=tostring(customDimensions.ControllerType)\n| extend dockerVersion = tostring(customDimensions.DockerVersion)\n|extend clusterType=tostring(customDimensions.ClusterType)\n|where clusterType == \"AKS\"\n| where controller == \"ReplicaSet\"\n| where controller == \"ReplicaSet\"\n| where dockerVersion != \"\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by dockerVersion, bin(timestamp, 1d)\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "54": {
            "position": {
              "x": 0,
              "y": 82,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics \n| extend ACSclusterid=tostring(customDimensions.ACS_RESOURCE_NAME)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controllerType=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.Region)\n| where timestamp > ago(7d)\n| where clusterType == \"AKS\"\n|where controllerType == \"ReplicaSet\"\n|where name == \"TelegrafMetricsSendErrorCount\"\n| summarize ptile99TgfSendLAErrorCount=percentile(value, 99) by bin(timestamp, 6h) , region\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "ptile99TgfSendLAErrorCount",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "e5321a90-6baa-45b1-88b7-ab60532fc0fa"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Replica - InsightsMetrics - ODS errors by region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics \n| extend dim=customDimensions\n| extend ACSclusterid=tostring(customDimensions.ACS_RESOURCE_NAME)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controllerType=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.Region)\n| where timestamp > ago(7d)\n| where clusterType == \"AKS\"\n|where controllerType == \"ReplicaSet\"\n|where name == \"TelegrafMetricsSendErrorCount\"\n| summarize ptile99TgfSendLAErrorCount=percentile(value, 99) by bin(timestamp,1d) , region\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "55": {
            "position": {
              "x": 0,
              "y": 85,
              "colSpan": 15,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\">AKS - Daemon set Performance</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "56": {
            "position": {
              "x": 0,
              "y": 86,
              "colSpan": 8,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where timestamp > ago(7d)\r\n| summarize averageMilliCores = avg(value/1000000) by bin(timestamp, 6h)  ),  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where timestamp > ago(7d)\r\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 6h)   ),  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where timestamp > ago(7d)\r\n| summarize 99PTileMilliCores = percentile(value/1000000, 99) by bin(timestamp, 6h)  ), (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend limitmc=150\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where timestamp > ago(7d)\r\n| summarize LimitMilliCores = max(limitmc) by bin(timestamp, 6h)  )\r\n|render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "averageMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "95PTileMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "99PTileMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "LimitMilliCores",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "6b5b7c3e-6aab-4490-bd6e-ed5cd0a75575"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Daemonset CPU Usage",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"cpuUsageNanoCores\"\n| extend PodName=tostring(customDimensions.PodName)\n| where PodName !has \"omsagent-rs\"\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where AksResourceId !has \"Microsoft.ContainerService/managedClusters\"\n| summarize averageMilliCores = avg(value/1000000), 95PTileMilliCores = percentile(value/1000000, 95), 99PTileMilliCores = percentile(value/1000000, 99), LimitMilliCores = 150 by bin(timestamp, 1d)\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "57": {
            "position": {
              "x": 8,
              "y": 86,
              "colSpan": 7,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"memoryRssBytes\"\r\n| where timestamp > ago(7d)\r\n| summarize averageMiB = avg(value/(1024*1024)) by bin(timestamp, 6h)   ),  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"memoryRssBytes\"\r\n| where timestamp > ago(7d)\r\n| summarize 95PTileMiB = percentile(value/ (1024*1024), 95) by bin(timestamp, 6h)  ),  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"memoryRssBytes\"\r\n| where timestamp > ago(7d)\r\n| summarize 99PTileMB = percentile(value/ (1024*1024), 99) by bin(timestamp, 6h)    ),  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend limitMiBytes=600\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"memoryRssBytes\"\r\n| where timestamp > ago(7d)\r\n| summarize LimitMiB = max(limitMiBytes) by bin(timestamp, 6h)    )\r\n|render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "averageMiB",
                        "type": "real"
                      },
                      {
                        "name": "95PTileMiB",
                        "type": "real"
                      },
                      {
                        "name": "99PTileMB",
                        "type": "real"
                      },
                      {
                        "name": "LimitMiB",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "427a3a6f-c15f-4901-a343-a2f744b2db4d"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Daemonset Memory usage",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"memoryRssBytes\"\n| extend PodName=tostring(customDimensions.PodName)\n| where PodName !has \"omsagent-rs\"\n| extend AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where AksResourceId !has \"Microsoft.ContainerService/managedClusters\"\n| summarize averageMiB = avg(value/(1024*1024)), 95PTileMiB = percentile(value/ (1024*1024), 95), 99PTileMB = percentile(value/ (1024*1024), 99), LimitMiB = 600 by bin(timestamp, 1d)\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "58": {
            "position": {
              "x": 0,
              "y": 89,
              "colSpan": 8,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend region=tostring(customDimensions.Region)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where timestamp > ago(7d)\r\n| where region != \"\"\r\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 6h), region\r\n|render timechart | limit 100000\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "95PTileMilliCores",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "ae45c3bb-045a-4664-90a0-1c2da12f45db"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Daemonset CPU usage (95th ptile) by Region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend region=tostring(customDimensions.Region)\n| where clusterType ==\"AKS\"\n| where PodName !has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where timestamp > ago(7d)\n| where region != \"\"\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 1d), region\n|render timechart | limit 100000\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "59": {
            "position": {
              "x": 8,
              "y": 89,
              "colSpan": 7,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "set notruncation;\r\ncustomMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend region=tostring(customDimensions.Region)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"memoryRssBytes\"\r\n| where timestamp > ago(7d)\r\n| summarize 95PTileMiB = percentile(value/ (1024*1024), 95) by bin(timestamp, 6h),region\r\n| order by region asc\r\n| render timechart | limit 100000 \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "95PTileMiB",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "0afdbf10-b28d-4684-831d-0f40c32f56b9"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Daemonset Memory usage (95th ptile) by Region",
                  "PartSubTitle": "7d",
                  "Query": "set notruncation;\ncustomMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend region=tostring(customDimensions.Region)\n| where clusterType ==\"AKS\"\n| where PodName !has \"omsagent-rs\"\n| where name == \"memoryRssBytes\"\n| where timestamp > ago(7d)\n| summarize 95PTileMiB = percentile(value/ (1024*1024), 95) by bin(timestamp, 1d),region\n| order by region asc\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "60": {
            "position": {
              "x": 0,
              "y": 92,
              "colSpan": 15,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend agentVersion=tostring(customDimensions.AgentVersion)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend clusterId=tostring(customDimensions.AKS_RESOURCE_ID)\r\n| extend fileName0=split(tostring(details[0].parsedStack[0].fileName),\"/\")\r\n| extend fileName1=array_length(fileName0)-1\r\n| extend fileName= strcat(fileName0[fileName1], \".\",tostring(details[0].parsedStack[0].line),\"::\",tostring(details[0].parsedStack[0].method))\r\n| where controller == \"DaemonSet\"\r\n| where clusterType == \"AKS\"\r\n| where timestamp > ago(7d)\r\n| summarize exceptionCount=count() by fileName, outerMethod, outerMessage, agentVersion //,clusterId\r\n//| summarize clusterCount=dcount(clusterId) by exceptionCount, fileName, outerMessage, outerMethod, agentVersion\r\n| project fileName, exceptionCount, message=outerMessage, method=outerMethod, agentVersion //clusterCount\r\n| order by  exceptionCount desc, agentVersion desc //clusterCount desc\r\n| take 25\n"
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "39036090-11c5-4ecf-8b2a-2f00e5be8e46"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsGrid"
                },
                {
                  "name": "Dimensions",
                  "isOptional": true
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Daemonset - Top 25 exceptions by cluster count",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterId=tostring(customDimensions.AKS_RESOURCE_ID)\n| extend fileName0=split(tostring(details[0].parsedStack[0].fileName),\"/\")\n| extend fileName1=array_length(fileName0)-1\n| extend fileName= strcat(fileName0[fileName1], \".\",tostring(details[0].parsedStack[0].line),\"::\",tostring(details[0].parsedStack[0].method))\n| where controller == \"DaemonSet\"\n| where clusterType == \"AKS\"\n| where timestamp > ago(7d)\n//| where timestamp > ago(1d)\n//| summarize exceptionCount=count() by fileName, outerMethod, outerMessage, agentVersion //,clusterId\n//| summarize clusterCount=dcount(clusterId) by exceptionCount, fileName, outerMessage, outerMethod, agentVersion\n| summarize clustercount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by fileName, outerMethod, outerMessage, agentVersion\n| project fileName, clustercount, message=outerMessage, method=outerMethod, agentVersion  //clusterCount\n| order by  clustercount desc, agentVersion desc //clusterCount desc\n| take 25\n",
                  "GridColumnsWidth": {
                    "fileName": "261px",
                    "exceptionCount": "261px",
                    "message": "392px",
                    "method": "261px",
                    "agentVersion": "261px"
                  }
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "61": {
            "position": {
              "x": 0,
              "y": 96,
              "colSpan": 15,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| where customDimensions.AKS_RESOURCE_ID != \"\"\r\n| where timestamp > ago(7d)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where controller == \"DaemonSet\"\r\n| where clusterType==\"AKS\"\r\n| summarize clustercount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by outerMessage\r\n| order by clustercount desc\r\n| take 5\r\n| join (exceptions\r\n| where customDimensions.AKS_RESOURCE_ID != \"\"\r\n| where timestamp > ago(7d)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| where controller == \"DaemonSet\"\r\n| where clusterType==\"AKS\"\r\n) on outerMessage \r\n| summarize dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by outerMessage, bin(timestamp, 1h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_AKS_RESOURCE_ID",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "outerMessage",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "a06fcc3f-42fc-4d5e-900b-64669b6caa66"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset top exceptions by cluster count",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| where customDimensions.AKS_RESOURCE_ID != \"\"\n| where timestamp > ago(7d)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where controller == \"DaemonSet\"\n| where clusterType==\"AKS\"\n| summarize clustercount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by outerMessage\n| order by clustercount desc\n| take 5\n| join (exceptions\n| where customDimensions.AKS_RESOURCE_ID != \"\"\n| where timestamp > ago(7d)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controller=tostring(customDimensions.ControllerType)\n| where controller == \"DaemonSet\"\n| where clusterType==\"AKS\"\n) on outerMessage \n| summarize dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by outerMessage, bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "62": {
            "position": {
              "x": 0,
              "y": 100,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| extend region=tostring(customDimensions.Region)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend clusterTypeControllerType = strcat(clusterType, \"-\" , controller)\r\n| where controller == \"DaemonSet\"\r\n| where clusterType==\"AKS\"\r\n| where timestamp > ago(7d)\r\n| summarize replicaExceptionCount=count() by region, bin(timestamp, 6h)\r\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "replicaExceptionCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "26d50c6b-e410-497c-bb95-b8dcb14993eb"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Daemonset exceptions by Region",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend region=tostring(customDimensions.Region)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterTypeControllerType = strcat(clusterType, \"-\" , controller)\n| where controller == \"DaemonSet\"\n| where clusterType==\"AKS\"\n| where timestamp > ago(7d)\n| summarize replicaExceptionCount=count() by region, bin(timestamp, 1d)\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "63": {
            "position": {
              "x": 5,
              "y": 100,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| extend agentVersion=tostring(customDimensions.AgentVersion)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where controller == \"DaemonSet\"\r\n| where clusterType==\"AKS\"\r\n| where timestamp > ago(7d)\r\n| summarize replicaExceptionCount=count() by agentVersion, bin(timestamp, 6h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "replicaExceptionCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "agentVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "61839daa-e92f-4de9-b797-a19ff81f887d"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Daemonset exceptions by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where controller == \"DaemonSet\"\n| where clusterType==\"AKS\"\n| where timestamp > ago(7d)\n| summarize replicaExceptionCount=count() by agentVersion, bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "64": {
            "position": {
              "x": 10,
              "y": 100,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions \r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend dockerVersion = tostring(customDimensions.DockerVersion)\r\n| where controller == \"DaemonSet\"\r\n| where dockerVersion != \"\"\r\n| where timestamp > ago(7d)\r\n| summarize exceptionCount=count() by dockerVersion, bin(timestamp, 6h)\r\n| render timechart\r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "exceptionCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "dockerVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "b34b6968-c934-4c87-aa51-2e3353715a42"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Daemonset exceptions by Docker version",
                  "PartSubTitle": "7d",
                  "Query": "exceptions \n| extend controller=tostring(customDimensions.ControllerType)\n| extend dockerVersion = tostring(customDimensions.DockerVersion)\n| extend clusterType = tostring(customDimensions.ClusterType)\n| where controller == \"DaemonSet\"\n| where clusterType == \"AKS\"\n| where dockerVersion != \"\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by dockerVersion, bin(timestamp, 1d)\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "65": {
            "position": {
              "x": 0,
              "y": 103,
              "colSpan": 15,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where controller == \"DaemonSet\"\n| where clusterType==\"AKS\"\n| where timestamp > ago(3d)\n| summarize count() by tostring(customDimensions.AKS_RESOURCE_ID), bin(timestamp, 1h)\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "customDimensions_AKS_RESOURCE_ID",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "a14da0f6-c357-404b-a6a6-4f08853a91d6"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset exceptions by AKS clusters(Top 10)",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n//| extend resource=tostring(customDimensions.AKS_RESOURCE_ID)\n| where controller == \"DaemonSet\"\n| where clusterType==\"AKS\"\n| where timestamp > ago(7d)\n| summarize count() by tostring(customDimensions.AKS_RESOURCE_ID)\n| order by count_ desc\n| take 10\n| join (\nexceptions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where controller == \"DaemonSet\"\n| where clusterType==\"AKS\"\n| where timestamp > ago(7d)\n| extend customDimensions_AKS_RESOURCE_ID=tostring(customDimensions.AKS_RESOURCE_ID)\n) on customDimensions_AKS_RESOURCE_ID\n| summarize count() by customDimensions_AKS_RESOURCE_ID, bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "66": {
            "position": {
              "x": 0,
              "y": 107,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics \n| extend ACSclusterid=tostring(customDimensions.ACS_RESOURCE_NAME)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controllerType=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.Region)\n| where timestamp > ago(7d)\n| where clusterType == \"AKS\"\n|where controllerType == \"DaemonSet\"\n|where name == \"TelegrafMetricsSendErrorCount\"\n| summarize ptile99TgfSendLAErrorCount=percentile(value, 99) by bin(timestamp, 6h) , region\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "ptile99TgfSendLAErrorCount",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "1a1778d7-54f7-4a69-83fa-38c2958186c6"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Daemonset - InsightsMetrics - ODS errors by region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics \n| extend dim=customDimensions\n| extend ACSclusterid=tostring(customDimensions.ACS_RESOURCE_NAME)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controllerType=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.Region)\n| where timestamp > ago(7d)\n| where clusterType == \"AKS\"\n|where controllerType == \"DaemonSet\"\n|where name == \"TelegrafMetricsSendErrorCount\"\n| summarize ptile99TgfSendLAErrorCount=percentile(value, 99) by bin(timestamp, 1d) , region\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "67": {
            "position": {
              "x": 5,
              "y": 107,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.Region)\n| where region != \"\"\n| where controller == \"DaemonSet\"\n| where outerMessage has \"ods.opinsights.azure.com\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by region, bin(timestamp, 6h)\n| summarize exceptioncount=percentile(exceptionCount,99) by region, bin(timestamp, 6h)\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "exceptioncount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "f8f76d5d-ac32-4d6b-a242-1d52455cd30e"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Daemonset - ContainerLogs - ODS errors by region",
                  "PartSubTitle": "ContainerInsightsAgent-Prod",
                  "Query": "exceptions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.Region)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where clusterType == \"AKS\"\n| where region != \"\"\n| where controller == \"DaemonSet\"\n| where outerMessage has \"ods.opinsights.azure.com\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by region, bin(timestamp, 1d)\n| summarize exceptioncount=percentile(exceptionCount,99) by region, bin(timestamp, 1d)\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "68": {
            "position": {
              "x": 10,
              "y": 107,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\r\n| where name has \"KubeMonAgentEventsFlushed\" \r\n| where customDimensions.ConfigErrorEventCount > 0\r\n| where customDimensions.ClusterType == \"AKS\"\r\n| where timestamp > ago(7d)\r\n| summarize count() by tostring(customDimensions.AKS_RESOURCE_ID), bin(timestamp, 1h)\r\n| summarize AKS = dcount(customDimensions_AKS_RESOURCE_ID) by bin(timestamp, 1h)\r\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "AKS",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "9d14c8e7-df8d-4079-8f88-040ea99a91b5"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "AKS - Clusters with config errors",
                  "PartSubTitle": "ContainerInsightsAgent-Prod",
                  "Query": "customEvents\n| where name has \"KubeMonAgentEventsFlushed\" \n| where customDimensions.ConfigErrorEventCount > 0\n| where customDimensions.ClusterType == \"AKS\"\n| where timestamp > ago(7d)\n| summarize count() by tostring(customDimensions.AKS_RESOURCE_ID), bin(timestamp, 1h)\n| summarize AKS = dcount(customDimensions_AKS_RESOURCE_ID) by bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "69": {
            "position": {
              "x": 0,
              "y": 110,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| where name has \"cpuUsageNanoCores\"\n| where timestamp > ago(1d)\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\" and customDimensions.CAdvisorIsSecure != \"\"\n| extend cAdvisorIsSecure=tostring(customDimensions.CAdvisorIsSecure)\n| project tostring(customDimensions.AKS_RESOURCE_ID), tostring(customDimensions.CAdvisorIsSecure), timestamp\n//| summarize count() by tostring(customDimensions_AKS_RESOURCE_ID)\n| summarize arg_max(timestamp,*) by customDimensions_AKS_RESOURCE_ID\n| join\n(\n    customMetrics\n    | where name has \"NodeMemory\"\n    | where timestamp > ago(1d)\n    //| extend trimmedVersion=trim_end(\".*\", tostring(customDimensions.KubeletVersion))\n    | project tostring(customDimensions.AKS_RESOURCE_ID), tostring(customDimensions.KubeletVersion)\n)\non customDimensions_AKS_RESOURCE_ID\n| where customDimensions_CAdvisorIsSecure == \"true\"\n| summarize arg_max(timestamp, *) by customDimensions_AKS_RESOURCE_ID\n//| summarize dcount(customDimensions_AKS_RESOURCE_ID) by customDimensions_CAdvisorIsSecure, customDimensions_KubeletVersion\n| summarize dcount(customDimensions_AKS_RESOURCE_ID) by customDimensions_KubeletVersion\n| render piechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "customDimensions_KubeletVersion",
                      "type": "string"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_AKS_RESOURCE_ID",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "59996fc7-dcef-48f4-b82b-dc07a1444e1b"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsDonut"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "CAdvisor-Secure",
                  "PartSubTitle": "1d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "70": {
            "position": {
              "x": 8,
              "y": 110,
              "colSpan": 7,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name has \"cpuUsageNanoCores\"\r\n| where timestamp > ago(1d)\r\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\" and customDimensions.CAdvisorIsSecure != \"\"\r\n| extend cAdvisorIsSecure=tostring(customDimensions.CAdvisorIsSecure)\r\n| project tostring(customDimensions.AKS_RESOURCE_ID), tostring(customDimensions.CAdvisorIsSecure), timestamp\r\n//| summarize count() by tostring(customDimensions_AKS_RESOURCE_ID)\r\n| summarize arg_max(timestamp,*) by customDimensions_AKS_RESOURCE_ID\r\n| join\r\n(\r\n    customMetrics\r\n    | where name has \"NodeMemory\"\r\n    | where timestamp > ago(1d)\r\n    //| extend trimmedVersion=trim_end(\".*\", tostring(customDimensions.KubeletVersion))\r\n    | project tostring(customDimensions.AKS_RESOURCE_ID), tostring(customDimensions.KubeletVersion)\r\n)\r\non customDimensions_AKS_RESOURCE_ID\r\n| where customDimensions_CAdvisorIsSecure == \"false\"\r\n| summarize arg_max(timestamp, *) by customDimensions_AKS_RESOURCE_ID\r\n//| summarize dcount(customDimensions_AKS_RESOURCE_ID) by customDimensions_CAdvisorIsSecure, customDimensions_KubeletVersion\r\n| summarize dcount(customDimensions_AKS_RESOURCE_ID) by customDimensions_KubeletVersion\r\n| render piechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "customDimensions_KubeletVersion",
                      "type": "string"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_AKS_RESOURCE_ID",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "13f31291-13ce-48ca-9697-295ba4d141e8"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsDonut"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "CAdvisor-Insecure",
                  "PartSubTitle": "1d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "71": {
            "position": {
              "x": 0,
              "y": 114,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\r\n| where name has \"AKSCustomMetricsMDMToken-SP\"\r\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\r\n| where timestamp > ago(7d)\r\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| extend region=tostring(customDimensions.Region)\r\n| summarize SP=dcount(aks) by bin(timestamp, 6h)\r\n//| render timechart \r\n| union (customEvents\r\n| where name has \"AKSCustomMetricsMDMToken-MSI\"\r\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\r\n| where timestamp > ago(7d)\r\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| extend region=tostring(customDimensions.Region)\r\n| summarize MSI=dcount(aks) by bin(timestamp, 6h))\r\n| render timechart \r\n//| render timechart )\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "SP",
                        "type": "long"
                      },
                      {
                        "name": "MSI",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "87d1a799-fff7-4eae-b75a-d35850aef0e2"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by Identity type",
                  "PartSubTitle": "7d",
                  "Query": "customEvents\n| where name has \"AKSCustomMetricsMDMToken-SP\"\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\n| where timestamp > ago(7d)\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\n| extend region=tostring(customDimensions.Region)\n| summarize SP=dcount(aks) by bin(timestamp, 1d)\n//| render timechart \n| union (customEvents\n| where name has \"AKSCustomMetricsMDMToken-MSI\"\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\n| where timestamp > ago(7d)\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\n| extend region=tostring(customDimensions.Region)\n| summarize MSI=dcount(aks) by bin(timestamp,1d))\n| render timechart \n//| render timechart )\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "72": {
            "position": {
              "x": 8,
              "y": 114,
              "colSpan": 7,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\r\n| where name has \"AKSCustomMetricsMDMToken-SP\"\r\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\r\n| where timestamp > ago(7d)\r\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| extend region=tostring(customDimensions.Region)\r\n| project aks\r\n| join (customEvents\r\n| where name == \"AKSCustomMetricsMDMSendSuccessful\"\r\n| where customDimensions.AKS_RESOURCE_ID != \"\"\r\n| where timestamp > ago(7d)\r\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)) on aks\r\n| summarize SPsuccess=dcount(aks) by bin(timestamp, 1d)\r\n//| summarize SPsuccess=dcount(aks) by bin(timestamp, 1d)\r\n//| render timechart\r\n| union(customEvents\r\n| where name has \"AKSCustomMetricsMDMToken-MSI\"\r\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\r\n| where timestamp > ago(7d)\r\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| extend region=tostring(customDimensions.Region)\r\n| project aks\r\n| join (customEvents\r\n| where name == \"AKSCustomMetricsMDMSendSuccessful\"\r\n| where customDimensions.AKS_RESOURCE_ID != \"\"\r\n| where timestamp > ago(7d)\r\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)) on aks\r\n| summarize MSIsuccess=dcount(aks) by bin(timestamp, 1d))\r\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "SPsuccess",
                        "type": "long"
                      },
                      {
                        "name": "MSIsuccess",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "455601d4-4608-4257-8149-8e95771eca2c"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Clusters successfully sending mdm metrics by Identity type",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "73": {
            "position": {
              "x": 0,
              "y": 118,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| where name == \"EventCount\"\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\n| where timestamp > ago(7d)\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\n| extend region=tostring(customDimensions.Region)\n| summarize percentile(value, 95) by aks, region, bin(timestamp, 6h)\n| summarize 95th=percentile(percentile_value_95, 95) by region, bin(timestamp, 6h)\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "95th",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "0b8fad49-d028-467a-81e5-1273c1197dee"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "KubeEvents-95th percentile cluster by region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"EventCount\"\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\n| where timestamp > ago(7d)\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\n| extend region=tostring(customDimensions.Region)\n| summarize percentile(value, 95) by aks, region, bin(timestamp, 1d)\n| summarize 95th=percentile(percentile_value_95, 95) by region, bin(timestamp, 1d)\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "74": {
            "position": {
              "x": 8,
              "y": 118,
              "colSpan": 7,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"NodeCoreCapacity\" \r\n| where timestamp > ago(7d)\r\n| where customDimensions.collectAllKubeEvents == \"false\"\r\n| summarize dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 1h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_AKS_RESOURCE_ID",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "146ca421-b044-4516-86c4-07701499dc0b"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Normal kube events by cluster count",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"NodeCoreCapacity\" \n| where timestamp > ago(7d)\n| where customDimensions.AKS_RESOURCE_ID != \"\" and customDimensions.ClusterType == \"AKS\"\n| where customDimensions.collectAllKubeEvents == \"true\"\n| summarize dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "75": {
            "position": {
              "x": 0,
              "y": 122,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "traces\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\n| extend clusterType = tostring(customDimensions.ClusterType)\n| where message has \"Warning(OMSAgent Registered, Not Running)\" and message has \"[error]: fluent/supervisor.rb\"\n| where timestamp > ago(14d)\n| where aks != \"\" and clusterType == \"AKS\"\n| summarize clustercount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 1d)\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clustercount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "15df25f0-03c9-437b-bc6b-1ffa0646226e"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Clusters with plugin load issues",
                  "PartSubTitle": "7d",
                  "Query": "traces\n| extend aks = tostring(customDimensions.AKS_RESOURCE_ID)\n| extend clusterType = tostring(customDimensions.ClusterType)\n| where message has \"Unknown filter plugin\"\n| where timestamp > ago(7d)\n| where aks != \"\" and clusterType == \"AKS\"\n| summarize clustercount=dcount(tostring(customDimensions.AKS_RESOURCE_ID)) by bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          }
        }
      }
    },
    "metadata": {
      "model": {
        "timeRange": {
          "value": {
            "relative": {
              "duration": 24,
              "timeUnit": 1
            }
          },
          "type": "MsPortalFx.Composition.Configuration.ValueTypes.TimeRange"
        },
        "filterLocale": {
          "value": "en-us"
        },
        "filters": {
          "value": {
            "MsPortalFx_TimeRange": {
              "model": {
                "format": "local",
                "granularity": "1d",
                "relative": "7d"
              },
              "displayCache": {
                "name": "Local Time",
                "value": "Past 7 days"
              },
              "filteredPartIds": [
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828008",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582800a",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582800c",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582800e",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828010",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828012",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828014",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828016",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828018",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582801a",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582801c",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582801e",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828020",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828024",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828026",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828028",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582802a",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582802c",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582802e",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828030",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828034",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828036",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828038",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582803a",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582803c",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582803e",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828040",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828042",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828044",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828046",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828048",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582804c",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582804e",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828050",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828052",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828054",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828058",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582805c",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828060",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828062",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828064",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828066",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828068",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582806a",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582806c",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582806e",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828070",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828072",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828076",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828078",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582807a",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582807c",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582807e",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828080",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828082",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828084",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828086",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828088",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582808a",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582808c",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582808e",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828090",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828092",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828094",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828096",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e5828098",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582809a",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582809c",
                "StartboardPart-AnalyticsPart-072f9ccd-dd9b-4483-91ae-5ed1e582809e"
              ]
            }
          }
        }
      }
    }
  },
  "name": "Container Insights Agent (AKS)",
  "type": "Microsoft.Portal/dashboards",
  "location": "INSERT LOCATION",
  "tags": {
    "hidden-title": "Container Insights Agent (AKS)"
  },
  "apiVersion": "2015-08-01-preview"
}