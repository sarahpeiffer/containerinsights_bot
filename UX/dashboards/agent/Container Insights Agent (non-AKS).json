{
  "properties": {
    "lenses": {
      "0": {
        "order": 0,
        "parts": {
          "0": {
            "position": {
              "x": 0,
              "y": 0,
              "colSpan": 20,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\"> Non-AKS Attach (overall)</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "1": {
            "position": {
              "x": 0,
              "y": 1,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp  > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID),OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem)))\r\n| where Computer !startswith(\"virtual\")\r\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| extend ClusterId = iff( isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| extend OSType = iff( OS == \"windows\", \"Windows\", \"Linux\")\r\n| project timestamp, ClusterId, Computer, OSType, value\r\n| summarize max(value) by Computer, OSType, ClusterId, bin(timestamp,1d)\r\n| summarize sum(max_value) by timestamp, OSType\r\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "sum_max_value",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "OSType",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "1019cc3a-59b1-47b1-b45a-74b6922b6ace"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Core count",
                  "PartSubTitle": "ContainerInsightsAgent-Prod"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "2": {
            "position": {
              "x": 6,
              "y": 1,
              "colSpan": 7,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp  > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName), AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), CloudProvider = tostring(customDimensions.KubernetesProviderID).split(':')[0]\r\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| extend ClusterType = iff(ClusterId has 'Microsoft.ContainerService/openshiftManagedClusters',\"AROv3\", iff(ClusterId has 'Microsoft.RedHatOpenShift/OpenShiftClusters', \"AROv4\", iff(ClusterId has 'Microsoft.kubernetes/connectedclusters' , 'Arc', iff(CloudProvider has 'azurestack', \"AzureStack\", iff(CloudProvider has 'onprem', \"OnPrem\", \"AzureAKSEngine\")))))\r\n| project timestamp, ClusterId, ClusterType, Computer, value\r\n| summarize max(value) by Computer, ClusterId, ClusterType, bin(timestamp,1d)\r\n| summarize sum(max_value) by ClusterType, timestamp\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "sum_max_value",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "ClusterType",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "87eca8ed-7f8d-485d-b136-0f7ed375fd3a"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Core count by Cluster Type",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "3": {
            "position": {
              "x": 13,
              "y": 1,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "let FilteredCustomMetricsTable = materialize(customMetrics\r\n| where timestamp  > ago(1d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem)))\r\n| where Computer !startswith(\"virtual\")\r\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| project timestamp, ClusterId, Computer, OS, value );\r\nunion ( FilteredCustomMetricsTable\r\n| where OS != \"windows\"\r\n| summarize max(value) by Computer, ClusterId, bin(timestamp,1d)\r\n| summarize corecount = sum(max_value) by bin(timestamp,1d)\r\n| summarize max(corecount), OS1=\"Linux\" ), ( FilteredCustomMetricsTable\r\n| where OS == \"windows\"\r\n| summarize max(value) by Computer, ClusterId, bin(timestamp,1d)\r\n| summarize corecount = sum(max_value) by bin(timestamp,1d)\r\n| summarize max(corecount), OS1=\"Windows\" )\r\n| render piechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "OS1",
                      "type": "string"
                    },
                    "yAxis": [
                      {
                        "name": "max_corecount",
                        "type": "real"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "1596cff7-16b3-4bb0-9115-80da6c311290"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsDonut"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Core count - Linux v. Windows",
                  "PartSubTitle": "1d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "4": {
            "position": {
              "x": 19,
              "y": 1,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp  > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| where customDimensions has \"cipreview03202020\"\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| summarize count() by  ClusterId , bin(timestamp, 1d) \r\n| summarize clusterCount=count() by timestamp\r\n| order by clusterCount desc\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "5231d473-41ab-49a1-b82d-4eaafd1085b7"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster Count (Openshift/ARO v4 Preview)",
                  "PartSubTitle": "ContainerInsightsAgent-Prod",
                  "Query": "customMetrics\n| where timestamp  > ago(7d)\n| where name == \"NodeCoreCapacity\"\n| where customDimensions contains \"cipreview\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\n| summarize count() by  ClusterId , bin(timestamp, 1d)\n| summarize clusterCount=count() by timestamp\n| order by clusterCount desc\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "5": {
            "position": {
              "x": 0,
              "y": 5,
              "colSpan": 7,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"NodeCoreCapacity\"\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), K8sProvider= tostring(customDimensions.KubernetesProviderID)\r\n| extend CloudProvider = iff(isempty(K8sProvider), \"azure\", split(K8sProvider,\":\")[0])\r\n| where timestamp  > ago(7d)\r\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| extend clusterID = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| summarize count() by CloudProvider, clusterID , bin(timestamp, 1d) \r\n| summarize clusterCount=count() by CloudProvider, timestamp\r\n| order by clusterCount desc\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "CloudProvider",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "ed0d88bd-5f4e-49d1-8452-9fcdab5d563c"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by Cloud Provider",
                  "PartSubTitle": "ContainerInsightsAgent-Prod",
                  "Query": "customMetrics\n| where timestamp  > ago(7d)\n| where name == \"NodeCoreCapacity\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), K8sProvider= tostring(customDimensions.KubernetesProviderID)\n| extend CloudProvider = iff(isempty(K8sProvider), \"azure\", split(K8sProvider,\":\")[0])\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\n| summarize count() by CloudProvider, ClusterId , bin(timestamp, 1d) \n| summarize clusterCount=count() by CloudProvider, timestamp\n| order by clusterCount desc\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "6": {
            "position": {
              "x": 7,
              "y": 5,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "\r\ncustomMetrics\r\n| where timestamp  > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName), AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), CloudProvider = tostring(customDimensions.KubernetesProviderID).split(':')[0]\r\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| extend ClusterType = iff(ClusterId has 'Microsoft.ContainerService/openshiftManagedClusters', \"AROv3\",iff(ClusterId has 'Microsoft.RedHatOpenShift/OpenShiftClusters', \"AROv4\",iff(ClusterId has 'Microsoft.kubernetes/connectedclusters' , 'Arc',iff(CloudProvider has 'azurestack', \"azurestack\", iff(CloudProvider has 'onprem', \"onprem\", \"AzureAKSEngine\")))))\r\n| summarize count() by ClusterId, ClusterType, bin(timestamp,1d)\r\n| summarize count() by ClusterType, timestamp\r\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "ClusterType",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "9884c713-26e2-49a5-b793-a009614f5879"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by Cluster Type",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "7": {
            "position": {
              "x": 13,
              "y": 5,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\r\n| where timestamp  > ago(7d)\r\n| where name == \"ContainerInventoryHeartBeatEvent\"\r\n| extend AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ACSResourceName = tostring(customDimensions.ACSResourceName), WorkspaceCloud = tostring(customDimensions.WorkspaceCloud), WorkspaceId = tostring(customDimensions.WorkspaceId)\r\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| where ClusterId !has \"Microsoft.ContainerService/managedClusters\"\r\n| where WorkspaceCloud =~ \"AzureChinaCloud\" or WorkspaceCloud =~ \"AzureUSGovernment\"\r\n| extend Cloud = iff(WorkspaceCloud =~ \"AzureChinaCloud\", \"Mooncake\", \"FairFax\")\r\n| summarize count() by ClusterId, Cloud, bin(timestamp, 1d)\r\n| summarize count() by Cloud, timestamp \r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "Cloud",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "127dab8a-32ef-45b0-9651-10092118768c"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count - GOV clouds",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "8": {
            "position": {
              "x": 0,
              "y": 9,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"NodeCoreCapacity\"\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), OSImage= tostring(customDimensions.OSImage)\r\n| where timestamp  > ago(7d)\r\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| extend clusterID = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| summarize count() by OSImage, clusterID , bin(timestamp, 1d) \r\n| summarize clusterCount=count() by OSImage, timestamp\r\n| order by clusterCount desc\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "OSImage",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "0adda4d5-4462-4ddc-90b9-0bb84b309ca8"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by OSImage",
                  "PartSubTitle": "ContainerInsightsAgent-Prod",
                  "Query": "customMetrics\n| where timestamp  > ago(7d)\n| where name == \"NodeCoreCapacity\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), OSImage= tostring(customDimensions.OSImage)\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\n| summarize count() by OSImage, ClusterId , bin(timestamp, 1d) \n| summarize clusterCount=count() by OSImage, timestamp\n| order by clusterCount desc\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "9": {
            "position": {
              "x": 8,
              "y": 9,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp  > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID),  ACSResourceName = tostring(customDimensions.ACSResourceName), OSImage= tostring(customDimensions.OSImage)\r\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| extend OSType = iff(OSImage has \"windows\", \"Windows\", \"Linux\")\r\n| summarize count() by ClusterId, OSType, bin(timestamp, 1d)\r\n| summarize count() by OSType, timestamp\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "OSType",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "14b17ae9-2a4d-499b-a881-0342e2124360"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by OS",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "10": {
            "position": {
              "x": 14,
              "y": 9,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"NodeCoreCapacity\"\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), KernelVersion = tostring(customDimensions.KernelVersion) \r\n| where timestamp  > ago(7d)\r\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| extend clusterID = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| summarize count() by KernelVersion, clusterID , bin(timestamp, 1d) \r\n| summarize clusterCount=count() by KernelVersion, timestamp\r\n| order by clusterCount desc\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "KernelVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "f850561d-c66d-44b3-9cae-0d6cb84b4303"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by KernelVersion",
                  "PartSubTitle": "ContainerInsightsAgent-Prod",
                  "Query": "customMetrics\n| where timestamp  > ago(7d)\n| where name == \"NodeCoreCapacity\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), KernelVersion = tostring(customDimensions.KernelVersion) \n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\n| summarize count() by KernelVersion, ClusterId , bin(timestamp, 1d) \n| summarize clusterCount=count() by KernelVersion, timestamp\n| order by clusterCount desc\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "11": {
            "position": {
              "x": 0,
              "y": 13,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents\r\n| where timestamp > ago(7d) \r\n| where  name == \"ContainerInventoryHeartBeatEvent\"\r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where ( isnotempty(ACSResourceName) or (isnotempty(AKSResourceId) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\"))\r\n| summarize count() by WorkspaceID,  bin(timestamp, 1d) \r\n| summarize count() by timestamp\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "11c7de01-13aa-434b-a588-11b4f8b12f15"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Workspace count",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "12": {
            "position": {
              "x": 6,
              "y": 13,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "72c8e8ca-dc16-47dc-b65c-6b5875eb600a",
                    "ResourceGroup": "ContainerInsightsAgent-Test",
                    "Name": "ContainerInsightsAgent-Test",
                    "ResourceId": "/subscriptions/72c8e8ca-dc16-47dc-b65c-6b5875eb600a/resourceGroups/ContainerInsightsAgent-Test/providers/microsoft.insights/components/ContainerInsightsAgent-Test"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"TelegrafMetricsSend429ErrorCount\" \r\n| where tostring(customDimensions.ClusterType) == \"AKS\"\r\n| extend clusterID = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where clusterID != \"\"\r\n| where value > 0\r\n| summarize all429errors=sum(value) by bin(timestamp, 1h), clusterID\r\n| summarize throttledworkspaces=count() by bin(timestamp, 1h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "throttledworkspaces",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "11e79734-1559-46ad-8e81-0f3b987005e5"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Test"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Throttled workspace count",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"TelegrafMetricsSend429ErrorCount\" \n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId )\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\n| where value > 0\n| summarize all429errors=sum(value) by bin(timestamp, 1d), WorkspaceID\n| summarize throttledworkspaces=count() by bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "13": {
            "position": {
              "x": 11,
              "y": 13,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "72c8e8ca-dc16-47dc-b65c-6b5875eb600a",
                    "ResourceGroup": "ContainerInsightsAgent-Test",
                    "Name": "ContainerInsightsAgent-Test",
                    "ResourceId": "/subscriptions/72c8e8ca-dc16-47dc-b65c-6b5875eb600a/resourceGroups/ContainerInsightsAgent-Test/providers/microsoft.insights/components/ContainerInsightsAgent-Test"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| where timestamp > ago(7d)\n//| where name == \"TelegrafMetricsSend429ErrorCount\" \n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId )\n| where value > 0\n| summarize all429errors=sum(value) by bin(timestamp, 1d), ClusterId\n| summarize throttledworkspaces=count() by bin(timestamp, 1d)\n| render columnchart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "throttledworkspaces",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "121b0221-5d90-46e8-967b-5996f992d8e3"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Test"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Bar"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Throttled cluster count (throttled workspace)",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"TelegrafMetricsSend429ErrorCount\" \n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId )\n| where value > 0\n| summarize all429errors=sum(value) by bin(timestamp, 1d), ClusterId\n| summarize throttledworkspaces=count() by bin(timestamp, 1d)\n| render columnchart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "14": {
            "position": {
              "x": 0,
              "y": 17,
              "colSpan": 20,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\">Non-AKS Attach (by segments)</span>",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "15": {
            "position": {
              "x": 0,
              "y": 18,
              "colSpan": 11,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"NodeCoreCapacity\"\r\n| extend kubeletVersion=tostring(customDimensions.KubeletVersion)\r\n| extend AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ACSResourceName = tostring(customDimensions.ACSResourceName)\r\n| where isnotempty(ACSResourceName) or (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\r\n| extend clusterID = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId)\r\n|where timestamp > ago(7d)\r\n| summarize count() by kubeletVersion, clusterID, bin(timestamp, 1d)  \r\n| summarize ClusterCount=count() by kubeletVersion, timestamp\r\n| order by ClusterCount desc\r\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "ClusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "kubeletVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "0c75ea50-0fa3-4701-a618-b0be1e4c9d99"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by K8s version",
                  "PartSubTitle": "ContainerInsightsAgent-Prod",
                  "Query": "customMetrics\n|where timestamp > ago(7d)\n| where name == \"NodeCoreCapacity\"\n| extend kubeletVersion=tostring(customDimensions.KubeletVersion)\n| extend AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ACSResourceName = tostring(customDimensions.ACSResourceName)\n| where isnotempty(ACSResourceName) or (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId)\n| summarize count() by kubeletVersion, ClusterId, bin(timestamp, 1d)  \n| summarize ClusterCount=count() by kubeletVersion, timestamp\n| order by ClusterCount desc\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "16": {
            "position": {
              "x": 11,
              "y": 18,
              "colSpan": 9,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union\n(\ncustomEvents\n| where name == \"ContainerLogDaemonSetHeartbeatEvent\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName), AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), AgentVersion = tostring(customDimensions.AgentVersion)\n| where isempty(AKSResourceId)\n| where timestamp  > ago(5d)\n| summarize count() by ACSResourceName, WorkspaceID, AgentVersion, bin(timestamp, 1h)\n| summarize SummarizedCount = count() by timestamp, AgentVersion), \n(\ncustomEvents\n| where name == \"ContainerLogDaemonSetHeartbeatEvent\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), WorkspaceID = tostring(customDimensions.WorkspaceID), Region = tostring(customDimensions.AKS_REGION), AgentVersion = tostring(customDimensions.AgentVersion)\n| where timestamp  > ago(1d)\n| where isempty(ACSResourceName)\n| summarize count() by AKSResourceId, WorkspaceID, AgentVersion, bin(timestamp, 1h)\n| summarize SummarizedCount = count() by timestamp, AgentVersion\n)\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "SummarizedCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "AgentVersion",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/074a7423-307c-47f3-b730-e8289171102d"
                },
                {
                  "name": "PartId",
                  "value": "6876c32f-6d7f-420f-be10-fc40c9b47ff5"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "customEvents\n| where name == \"ContainerInventoryHeartBeatEvent\"\n| extend AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ACSResourceName = tostring(customDimensions.ACSResourceName)\n| where isnotempty(ACSResourceName) or (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId), WorkspaceId = tostring(customDimensions.WorkspaceId), Region = tostring(customDimensions.AKS_REGION), AgentVersion = tostring(customDimensions.AgentVersion)\n| where timestamp  > ago(7d)\n| summarize count() by ClusterId, WorkspaceId, AgentVersion, bin(timestamp, 1d)\n| summarize SummarizedCount = count() by timestamp, AgentVersion\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "17": {
            "position": {
              "x": 0,
              "y": 22,
              "colSpan": 11,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customEvents \n| where name == \"ContainerInventoryHeartBeatEvent\"\n| extend dockerVersion=tostring(customDimensions.DockerVersion)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterID = iif (clusterType==\"AKS\", tostring(customDimensions.AKS_RESOURCE_ID), tostring(customDimensions.ACSResourceName))\n| where clusterID != \"my_acs_cluster_name\"\n| where clusterID != \"my_aks_cluster_name\"\n|where timestamp > ago(7d)\n| summarize count() by dockerVersion, clusterID , bin(timestamp, 1d) \n| summarize clusterCount=count() by dockerVersion, timestamp\n| order by clusterCount desc\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "DateTime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "Int64"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "dockerVersion",
                        "type": "String"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "DashboardId",
                  "value": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/d17d3b47-8d6b-4c7b-90f6-f7fd86e1b122"
                },
                {
                  "name": "PartId",
                  "value": "ed18c992-9bac-4511-a710-ef345c10c59e"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by Docker version",
                  "PartSubTitle": "7d",
                  "Query": "customEvents \n|where timestamp > ago(7d)\n| where name == \"ContainerInventoryHeartBeatEvent\"\n| extend dockerVersion=tostring(customDimensions.DockerVersion)\n| extend AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ACSResourceName = tostring(customDimensions.ACSResourceName)\n| where isnotempty(ACSResourceName) or (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend clusterID = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId)\n| summarize count() by dockerVersion, clusterID , bin(timestamp, 1d) \n| summarize clusterCount=count() by dockerVersion, timestamp\n| order by clusterCount desc\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "1d",
                    "relative": "7d"
                  }
                }
              }
            }
          },
          "18": {
            "position": {
              "x": 11,
              "y": 22,
              "colSpan": 9,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n|where timestamp > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend dockerVersion=tostring(customDimensions.DockerVersion)\r\n| extend AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ACSResourceName = tostring(customDimensions.ACSResourceName)\r\n| where isnotempty(ACSResourceName) or (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\r\n| extend clusterID = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId)\r\n| extend containerRuntime=iff(dockerVersion contains \"://\",  split(dockerVersion, \":\")[0], \"docker\")\r\n| summarize count() by containerRuntime, clusterID , bin(timestamp, 1d)\r\n| summarize clusterCount=count() by containerRuntime, timestamp\r\n| order by clusterCount desc\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "containerRuntime",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "1e20970e-0a2a-410f-ba39-9f4f6880bfcf"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by Container Runtime",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "19": {
            "position": {
              "x": 0,
              "y": 26,
              "colSpan": 20,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\">Non-AKS Attach (by features)</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "20": {
            "position": {
              "x": 0,
              "y": 27,
              "colSpan": 7,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clustercustomsettings = tostring(customDimensions.clustercustomsettings)\r\n| extend computer = tostring(customDimensions.Computer)\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where  clustercustomsettings == \"true\"\r\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId )\r\n| summarize count() by ClusterId, WorkspaceID, bin(timestamp, 1d)\r\n| summarize SummarizedCount = count() by timestamp\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "SummarizedCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "039077ce-61de-4b98-b272-81bc579e9bde"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count with agent configmap",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "21": {
            "position": {
              "x": 7,
              "y": 27,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clustercustomsettings = tostring(customDimensions.clustercustomsettings)\r\n| extend computer = tostring(customDimensions.Computer)\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where  clustercustomsettings == \"true\"\r\n| summarize count() by computer,  bin(timestamp, 1d)\r\n| summarize Nodecount = count() by timestamp\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "Nodecount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "119579df-86e2-48fb-8515-3190fbc11d0f"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "VM count with agent configmap",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "22": {
            "position": {
              "x": 13,
              "y": 27,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"cpuUsageNanoCores\"\r\n| extend PodName = tostring(customDimensions.PodName)\r\n| where PodName !has \"omsagent-rs\"\r\n| extend clusterstdoutlogs = tostring(customDimensions.clusterstdoutlogs),  clusterstderrlogs = tostring(customDimensions.clusterstderrlogs)\r\n| extend clusterenvvars = tostring(customDimensions.clusterenvvars), clusterlogtailexcludepath = tostring(customDimensions.clusterlogtailexcludepath)\r\n| extend clusterCLEnrich = tostring(customDimensions.clusterCLEnrich) \r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\r\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId)\r\n| extend ClusterTypeBag = pack_array(iff(clusterstdoutlogs == \"false\", \"OFF STDOUT\", \"\"),\r\n    iff(clusterstderrlogs == \"false\", \"OFF STDERR\", \"\"),\r\n    iff(clusterenvvars == \"false\", \"OFF ENVVAR\", \"\"),\r\n    iff(isnotempty(clusterlogtailexcludepath) and clusterlogtailexcludepath !has \"kube-system\", \"ON KUBE-SYSTEM\", \"\"),\r\n    iff(clusterCLEnrich == \"true\", \"ON ENRICH\", \"\"))\r\n| mv-expand ClusterTypeBag\r\n| extend ClusterType = tostring(ClusterTypeBag)\r\n| where ClusterType != \"\" \r\n| summarize count() by ClusterId, WorkspaceID, tostring(ClusterType), bin(timestamp, 1d)\r\n| summarize clustercount = count() by timestamp, tostring(ClusterType)\r\n| render timechart\r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clustercount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "ClusterType",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "9a25665a-be5b-4a72-a4e1-eb90731cb9fe"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by Log collection settings",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "23": {
            "position": {
              "x": 0,
              "y": 30,
              "colSpan": 7,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName)\r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\r\n| where name has \"Core\" \r\n| where timestamp > ago(7d)\r\n| where customDimensions.rsPromUrl > 0 or customDimensions.rsPromServ > 0 or customDimensions.rsPromMonPods == true or customDimensions.dsPromUrl > 0\r\n| where ACSResourceName != \"\"\r\n| summarize count() by ACSResourceName , WorkspaceID ,bin(timestamp, 6h)\r\n| summarize clusterCount=count() by bin(timestamp,6h)\r\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "918c0948-89ce-460d-ade1-5322a679fc59"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count - Prometheus",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name has \"Core\" \n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId )\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\n| where customDimensions.rsPromUrl > 0 or customDimensions.rsPromServ > 0 or customDimensions.rsPromMonPods == true or customDimensions.dsPromUrl > 0\n| where ACSResourceName != \"\"\n| summarize count() by ClusterId , WorkspaceID ,bin(timestamp, 1d)\n| summarize clusterCount=count() by bin(timestamp,1d)\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "24": {
            "position": {
              "x": 7,
              "y": 30,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n|extend ACSResourceName=tostring(customDimensions.ACSResourceName)\r\n|extend WorkspaceID=tostring(customDimensions.WorkspaceID)\r\n| where name has \"Core\" \r\n| where timestamp > ago(7d)\r\n| where customDimensions.rsPromServ > 0 or customDimensions.rsPromMonPods == true or customDimensions.dsPromUrl > 0\r\n| extend scrapeInterval = \r\n     iif(isnotempty(tostring(customDimensions.dsPromInt)),tostring(customDimensions.dsPromInt),tostring(customDimensions.rsPromInt))\r\n| where isnotempty(scrapeInterval)\r\n| where customDimensions.ACSResourceName != \"\"\r\n| summarize count() by ACSResourceName, WorkspaceID, scrapeInterval,bin(timestamp, 6h)\r\n| summarize clustercount=count() by scrapeInterval, bin(timestamp, 6h)\r\n| render timechart "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clustercount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "scrapeInterval",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "1580cd1a-c66e-41e9-aedd-40c0decf68e9"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count by Prometheus scraping frequency",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name has \"Core\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId )\n| where customDimensions.rsPromServ > 0 or customDimensions.rsPromMonPods == true or customDimensions.dsPromUrl > 0\n| extend scrapeInterval = \n     iif(isnotempty(tostring(customDimensions.dsPromInt)),tostring(customDimensions.dsPromInt),tostring(customDimensions.rsPromInt))\n| where isnotempty(scrapeInterval)\n| summarize count() by ClusterId, WorkspaceID, scrapeInterval,bin(timestamp, 1d)\n| summarize clustercount=count() by scrapeInterval, bin(timestamp, 1d)\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "25": {
            "position": {
              "x": 0,
              "y": 33,
              "colSpan": 7,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"TelegrafMetricsSentCount\"\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\r\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId )\r\n| where value > 0\r\n| summarize dcount(ClusterId) by bin(timestamp,1d)\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_ClusterId",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "0c4e820c-17e7-4f15-8914-2dab42c86e92"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Cluster count sending Telegraf metrics",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "26": {
            "position": {
              "x": 7,
              "y": 33,
              "colSpan": 11,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| extend ACSResourceName = tostring(customDimensions.AKS_RESOURCE_ID)\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\n| where name has \"NodeCoreCapacity\"\n| where timestamp > ago(7d)\n| where customDimensions.nvigpus > 0 or customDimensions.amdgpus > 0 \n| where ACSResourceName != \"\"\n| summarize count() by ACSResourceName , WorkspaceID ,bin(timestamp, 6h)\n| summarize clusterCount=count() by bin(timestamp,6h)\n| render barchart kind=unstacked\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "clusterCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "1240780d-1253-4dbf-b426-5b29a2a14df3"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "GroupedBar"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "GPU cluster count",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name has \"NodeCoreCapacity\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID)\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId )\n| where customDimensions.nvigpus > 0 or customDimensions.amdgpus > 0 \n| summarize count() by ClusterId , WorkspaceID ,bin(timestamp, 1d)\n| summarize clusterCount=count() by bin(timestamp,1d)\n| render barchart kind=unstacked\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "27": {
            "position": {
              "x": 0,
              "y": 36,
              "colSpan": 20,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\">Non-AKS - Large Clusters</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "28": {
            "position": {
              "x": 0,
              "y": 37,
              "colSpan": 8,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp  > ago(7d)\r\n| where name == \"NodeCoreCapacity\"\r\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where isnotempty(ACSResourceName) or (isnotempty(AKSResourceId ) and AKSResourceId !has \"Microsoft.ContainerService/managedClusters\")\r\n| extend WorkspaceID = tostring(customDimensions.WorkspaceID),Computer = tostring(customDimensions.Computer), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\r\n| extend ClusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AKSResourceId )\r\n| where Computer !startswith(\"virtual\")\r\n| summarize corespernode=max(value) by Computer, ClusterId, WorkspaceID, bin(timestamp,1d) \r\n| summarize corespercluster=sum(corespernode) by ClusterId, WorkspaceID, bin(timestamp,1d)  \r\n| summarize MaxCoresPerCluster = max(corespercluster) by bin(timestamp,1d)\r\n| render areachart kind=unstacked   "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxCoresPerCluster",
                        "type": "real"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "23e03e78-0bf9-442c-ab08-793cbf7993d7"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "UnstackedArea"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Max Core count per cluster",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "29": {
            "position": {
              "x": 8,
              "y": 37,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"NodeCoreCapacity\"\r\n| extend workspaceid=tostring(customDimensions.WorkspaceID)\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\r\n| where timestamp  > ago(7d)\r\n| where isnotempty(ACSResourceName)\r\n| where isempty(AKSResourceId)\r\n| where Computer !startswith(\"virtual\")\r\n| summarize nodespercluster=dcount(Computer) by ACSResourceName, workspaceid, bin(timestamp,1d)  \r\n| summarize maxNodesPerCluster=max(nodespercluster) by bin(timestamp, 1d)\r\n| render areachart kind=unstacked   "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "maxNodesPerCluster",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "a66e5734-a174-4ca1-acda-a6d73bea29e8"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "UnstackedArea"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Max Node count per cluster",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp  > ago(7d)\n| where name == \"NodeCoreCapacity\"\n| extend workspaceid=tostring(customDimensions.WorkspaceID)\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend clusterId= iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId)\n| where Computer !startswith(\"virtual\")\n| summarize nodespercluster=dcount(Computer) by clusterId, workspaceid, bin(timestamp,1d)  \n| summarize maxNodesPerCluster=max(nodespercluster) by bin(timestamp, 1d)\n| render areachart kind=unstacked  "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "30": {
            "position": {
              "x": 14,
              "y": 37,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"PodCount\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region), workspaceid=tostring(customDimensions.WorkspaceID)\r\n| where timestamp  > ago(7d)\r\n| where isnotempty(ACSResourceName)\r\n| where isempty(AKSResourceId)\r\n| where Computer !startswith(\"virtual\")\r\n| summarize maxpodspercluster=max(value) by AKSResourceId, workspaceid, bin(timestamp,1d) \r\n| summarize MaxPodCountPerCluster = max(maxpodspercluster) by bin(timestamp,1d)\r\n| render areachart kind=unstacked \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxPodCountPerCluster",
                        "type": "real"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "194d7c0f-5e7b-43e5-b3c5-226f470840c2"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "UnstackedArea"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Max Pod count per cluster",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp  > ago(7d)\n| where name == \"PodCount\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID),OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region), workspaceid=tostring(customDimensions.WorkspaceID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend clusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId)\n| where Computer !startswith(\"virtual\")\n| summarize maxpodspercluster=max(value) by clusterId, workspaceid, bin(timestamp,1d) \n| summarize MaxPodCountPerCluster = max(maxpodspercluster) by bin(timestamp,1d)\n| render areachart kind=unstacked "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "31": {
            "position": {
              "x": 0,
              "y": 40,
              "colSpan": 8,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"ControllerCount\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region), workspaceid=tostring(customDimensions.WorkspaceID)\r\n| where timestamp  > ago(7d)\r\n| where isnotempty(ACSResourceName)\r\n| where isempty(AKSResourceId)\r\n| where Computer !startswith(\"virtual\")\r\n| summarize maxcontrollerspercluster=max(value) by ACSResourceName, workspaceid, bin(timestamp,1d) \r\n| summarize MaxControllerCountPerCluster = max(maxcontrollerspercluster) by bin(timestamp,1d)\r\n| render areachart kind=unstacked "
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxControllerCountPerCluster",
                        "type": "real"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "f438f49f-115d-411a-a4b7-bf228cd8d01d"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "UnstackedArea"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Max Controller count per cluster",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp  > ago(7d)\n| where name == \"ControllerCount\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AksResourceId= tostring(customDimensions.AKS_RESOURCE_ID),OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region), workspaceid=tostring(customDimensions.WorkspaceID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend clusterId = iff(isnotempty(ACSResourceName),ACSResourceName,AksResourceId)\n| where Computer !startswith(\"virtual\")\n| summarize maxcontrollerspercluster=max(value) by clusterId, workspaceid, bin(timestamp,1d) \n| summarize MaxControllerCountPerCluster = max(maxcontrollerspercluster) by bin(timestamp,1d)\n| render areachart kind=unstacked "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "32": {
            "position": {
              "x": 8,
              "y": 40,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"LastProcessedContainerInventoryCount\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region), workspaceid=tostring(customDimensions.WorkspaceID)\r\n| where timestamp  > ago(7d)\r\n| where isnotempty(ACSResourceName)\r\n| where isempty(AKSResourceId)\r\n| summarize maxcontainerspernode=max(value) by Computer, ACSResourceName, workspaceid, bin(timestamp, 1d)\r\n| summarize sumcontainerspercluster=sum(maxcontainerspernode) by ACSResourceName, workspaceid, bin(timestamp,1d) \r\n| summarize MaxContainerCountPerCluster = max(sumcontainerspercluster) by bin(timestamp,1d)\r\n| render areachart kind=unstacked \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxContainerCountPerCluster",
                        "type": "real"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "adcd58b5-0ea6-4feb-ae4b-f0981c314358"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "UnstackedArea"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Max Container count per cluster",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp  > ago(7d)\n| where name == \"LastProcessedContainerInventoryCount\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region), workspaceid=tostring(customDimensions.WorkspaceID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend clusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId)\n| summarize maxcontainerspernode=max(value) by Computer, clusterId, workspaceid, bin(timestamp, 1d)\n| summarize sumcontainerspercluster=sum(maxcontainerspernode) by clusterId, workspaceid, bin(timestamp,1d) \n| summarize MaxContainerCountPerCluster = max(sumcontainerspercluster) by bin(timestamp,1d)\n| render areachart kind=unstacked "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "33": {
            "position": {
              "x": 14,
              "y": 40,
              "colSpan": 6,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"PodCount\"\r\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\"\r\n| where timestamp > ago(3d)\r\n| extend akse = tostring(customDimensions.ACSResourceName)\r\n//| extend region=tostring(customDimensions.Region)\r\n| extend PodCount=value\r\n//| project PodCount=value, aks, region, timestamp \r\n| join( customMetrics\r\n| where name == \"ControllerCount\"\r\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\"\r\n| where timestamp > ago(3d)\r\n| extend akse = tostring(customDimensions.ACSResourceName)\r\n//| extend region=tostring(customDimensions.Region)\r\n| extend controllercd = customDimensions\r\n) on akse\r\n| extend JobCount=case(isempty(toint(parse_json(tostring(parse_json(controllercd).ControllerData)).Job)) == true, \r\n                    0, toint(parse_json(tostring(parse_json(controllercd).ControllerData)).Job))\r\n| project podswithoutjobs=(PodCount-JobCount), JobCount, PodCount,\r\n                    akse, timestamp\r\n| summarize MaxPodCountWithoutJobs=max(podswithoutjobs) by bin(timestamp, 6h)\r\n| render areachart kind=unstacked \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxPodCountWithoutJobs",
                        "type": "real"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "72c8be54-47be-43e4-b314-f3065e8559ae"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "UnstackedArea"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Max Pod count(No Job) per cluster ",
                  "PartSubTitle": "3d",
                  "Query": "customMetrics\n| where timestamp > ago(3d)\n| where name == \"PodCount\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend clusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId), PodCount=value\n| join( customMetrics\n| where name == \"ControllerCount\"\n| extend ACSResourceName = tostring(customDimensions.ACSResourceName) , AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| where timestamp > ago(3d)\n| extend clusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId)\n| extend JobCount=case(isempty(toint(parse_json(tostring(customDimensions.ControllerData)).Job)) == true,  0, toint(parse_json(tostring(customDimensions.ControllerData)).Job))\n)\non clusterId\n| project podswithoutjobs=(PodCount-JobCount), JobCount, PodCount, clusterId, timestamp\n| summarize MaxPodCountWithoutJobs=max(podswithoutjobs) by bin(timestamp, 1d)\n| render areachart kind=unstacked"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "34": {
            "position": {
              "x": 0,
              "y": 43,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"LastProcessedContainerInventoryCount\"\r\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region), workspaceid=tostring(customDimensions.WorkspaceID)\r\n| where timestamp  > ago(7d)\r\n| where isnotempty(ACSResourceName)\r\n| where isempty(AKSResourceId)\r\n| summarize maxcontainerspernode=max(value) by Computer, ACSResourceName, workspaceid, bin(timestamp, 1d)\r\n| summarize maxcontainerspernodepercluster=max(maxcontainerspernode) by ACSResourceName, workspaceid, bin(timestamp,1d) \r\n| summarize MaxContainerCountPerNodePerCluster = max(maxcontainerspernodepercluster) by bin(timestamp,1d)\r\n| render areachart kind=unstacked \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "MaxContainerCountPerNodePerCluster",
                        "type": "real"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "cf0d869c-6723-4945-8a82-13f8da9d0661"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "UnstackedArea"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Max Container count per node",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp  > ago(7d)\n| where name == \"LastProcessedContainerInventoryCount\"\n| extend Computer = tostring(customDimensions.Computer), ACSResourceName = tostring(customDimensions.ACSResourceName) , AKSResourceId = tostring(customDimensions.AKS_RESOURCE_ID), ClusterType = tostring(customDimensions.ClusterType), OS = tolower(trim(\" \",tostring(customDimensions.OperatingSystem))),region=tostring(customDimensions.Region), workspaceid=tostring(customDimensions.WorkspaceID)\n| where isnotempty(ACSResourceName)\n| where isempty(AKSResourceId)\n| summarize maxcontainerspernode=max(value) by Computer, ACSResourceName, workspaceid, bin(timestamp, 1d)\n| summarize maxcontainerspernodepercluster=max(maxcontainerspernode) by ACSResourceName, workspaceid, bin(timestamp,1d) \n| summarize MaxContainerCountPerNodePerCluster = max(maxcontainerspernodepercluster) by bin(timestamp,1d)\n| render areachart kind=unstacked \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "35": {
            "position": {
              "x": 0,
              "y": 47,
              "colSpan": 20,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\">Non-AKS - Replica set Performance</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "36": {
            "position": {
              "x": 0,
              "y": 48,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"cpuUsageNanoCores\"\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| where PodName has \"omsagent-rs\"\r\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\r\n| summarize averageMilliCores = avg(value/1000000), 95PTileMilliCores = percentile(value/1000000, 95), 99PTileMilliCores = percentile(value/1000000, 99), LimitMilliCores = 1000 by bin(timestamp, 1d)\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "averageMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "95PTileMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "99PTileMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "LimitMilliCores",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "668399b2-e8d3-4568-b826-e289b615d094"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Replica CPU usage",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "37": {
            "position": {
              "x": 6,
              "y": 48,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where timestamp > ago(7d)\r\n| where name == \"memoryRssBytes\"\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| where PodName has \"omsagent-rs\"\r\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\r\n| summarize averageMiB = avg(value/(1024*1024)), 95PTileMiB = percentile(value/(1024*1024), 95), 99PTileMB = percentile(value/(1024*1024), 99), limitMiBytes = 750 by bin(timestamp, 1d)\r\n| render timechart"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "averageMiB",
                        "type": "real"
                      },
                      {
                        "name": "95PTileMiB",
                        "type": "real"
                      },
                      {
                        "name": "99PTileMB",
                        "type": "real"
                      },
                      {
                        "name": "limitMiBytes",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "316d7894-0e13-482c-ae10-b545c8767727"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Replicaset memory usage",
                  "PartSubTitle": "7d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "38": {
            "position": {
              "x": 0,
              "y": 52,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend region=tostring(customDimensions.Region)\n| where clusterType ==\"AKS\"\n| where PodName has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where timestamp > ago(7d)\n| where region != \"\"\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 6h), region\n|render timechart | limit 100000\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "95PTileMilliCores",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "bdf4e924-e105-476c-9ea4-0f83d3e26814"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Replica CPU usage (95th ptile) by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| extend json=customDimensions\n| extend PodName=tostring(customDimensions.PodName)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend region=tostring(customDimensions.AgentVersion)\n| where PodName has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where timestamp > ago(7d)\n| where region != \"\"\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 1d), region\n| render timechart | limit 100000"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "39": {
            "position": {
              "x": 6,
              "y": 52,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\n| extend PodName=tostring(customDimensions.PodName)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend region=tostring(customDimensions.Region)\n| where clusterType ==\"AKS\"\n| where PodName has \"omsagent-rs\"\n| where name == \"memoryRssBytes\"\n| where timestamp > ago(7d)\n| where region != \"\"\n| summarize 95PTileMiB = percentile(value/ (1024*1024), 95) by bin(timestamp, 6h),region\n| render timechart | limit 100000 \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "95PTileMiB",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "b92d4a12-2208-4787-878a-d32a1ce78604"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": " Replica Memory usage (95th ptile) by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "set notruncation;\ncustomMetrics\n| extend json=customDimensions\n| extend PodName=tostring(customDimensions.PodName)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend region=tostring(customDimensions.AgentVersion)\n| where PodName has \"omsagent-rs\"\n| where name == \"memoryRssBytes\"\n| where timestamp > ago(7d)\n| where region != \"\"\n| summarize 95PTileMiB = percentile(value/ (1024*1024), 95) by bin(timestamp, 1d),region\n| order by region asc\n| render timechart | limit 100000 \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "40": {
            "position": {
              "x": 0,
              "y": 56,
              "colSpan": 15,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend agentVersion=tostring(customDimensions.AgentVersion)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend clusterId=tostring(customDimensions.AKS_RESOURCE_ID)\r\n| extend fileName0=split(tostring(details[0].parsedStack[0].fileName),\"/\")\r\n| extend fileName1=array_length(fileName0)-1\r\n| extend fileName= strcat(fileName0[fileName1], \".\",tostring(details[0].parsedStack[0].line),\"::\",tostring(details[0].parsedStack[0].method))\r\n| where controller == \"ReplicaSet\"\r\n| where clusterType == \"AKS\"\r\n| where timestamp > ago(7d)\r\n| summarize exceptionCount=count() by fileName, outerMethod, clusterId, outerMessage, agentVersion\r\n| summarize clusterCount=dcount(clusterId) by exceptionCount, fileName, outerMessage, outerMethod, agentVersion\r\n| order by clusterCount desc, exceptionCount desc, agentVersion desc\r\n| take 25\r\n"
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "c6c0bed5-3724-46a3-81da-ab6f072a4696"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsGrid"
                },
                {
                  "name": "Dimensions",
                  "isOptional": true
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Replica - Top 25 exceptions by count",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend json=customDimensions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend clusterId= iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId)\n| extend fileName0=split(tostring(details[0].parsedStack[0].fileName),\"/\")\n| extend fileName1=array_length(fileName0)-1\n| extend fileName= strcat(fileName0[fileName1], \".\",tostring(details[0].parsedStack[0].line),\"::\",tostring(details[0].parsedStack[0].method))\n| where controller == \"ReplicaSet\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by fileName, outerMethod, outerMessage, agentVersion //,clusterId\n//| summarize clusterCount=dcount(clusterId) by exceptionCount, fileName, outerMessage, outerMethod, agentVersion\n| project fileName, exceptionCount, message=outerMessage, method=outerMethod, agentVersion //clusterCount\n| order by  exceptionCount desc, agentVersion desc //clusterCount desc\n| take 25\n",
                  "GridColumnsWidth": {
                    "fileName": "400px",
                    "clusterCount": "112px",
                    "exceptionCount": "173px",
                    "outerMessage": "256px",
                    "outerMethod": "255px",
                    "agentVersion": "335px",
                    "message": "242px",
                    "method": "198px"
                  }
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "41": {
            "position": {
              "x": 0,
              "y": 60,
              "colSpan": 15,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| where customDimensions.ACSResourceName != \"\"\r\n| where timestamp > ago(7d)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where controller == \"ReplicaSet\"\r\n| where clusterType==\"ACS\"\r\n| summarize clustercount=dcount(tostring(customDimensions.ACSResourceName)) by outerMessage\r\n| order by clustercount desc\r\n| take 5\r\n| join (exceptions\r\n| where customDimensions.ACSResourceName != \"\"\r\n| where timestamp > ago(7d)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| where controller == \"ReplicaSet\"\r\n| where clusterType==\"ACS\"\r\n) on outerMessage \r\n| summarize dcount(tostring(customDimensions.ACSResourceName)) by outerMessage, bin(timestamp, 1h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_ACSResourceName",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "outerMessage",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "38d98b9a-6e7c-4a69-b68b-962cf422aec8"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Replicaset top exceptions by cluster count",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| where customDimensions.ACSResourceName != \"\"\n| where timestamp > ago(7d)\n| extend json=customDimensions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where controller == \"ReplicaSet\"\n| where clusterType==\"ACS\"\n| summarize clustercount=dcount(tostring(customDimensions.ACSResourceName)) by outerMessage\n| order by clustercount desc\n| take 5\n| join (exceptions\n| where customDimensions.ACSResourceName != \"\"\n| where timestamp > ago(7d)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controller=tostring(customDimensions.ControllerType)\n| where controller == \"ReplicaSet\"\n| where clusterType==\"ACS\"\n) on outerMessage \n| summarize dcount(tostring(customDimensions.ACSResourceName)) by outerMessage, bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "42": {
            "position": {
              "x": 0,
              "y": 64,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics \n| extend ACSclusterid=tostring(customDimensions.ACS_RESOURCE_NAME)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controllerType=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.Region)\n| where timestamp > ago(7d)\n| where clusterType == \"AKS\"\n|where controllerType == \"ReplicaSet\"\n|where name == \"TelegrafMetricsSendErrorCount\"\n| summarize ptile99TgfSendLAErrorCount=percentile(value, 99) by bin(timestamp, 6h) , region\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "ptile99TgfSendLAErrorCount",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "e5321a90-6baa-45b1-88b7-ab60532fc0fa"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Replica - InsightsMetrics - ODS errors by region",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics \n| extend dim=customDimensions\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controllerType=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.Region)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| where timestamp > ago(7d)\n|where controllerType == \"ReplicaSet\"\n|where name == \"TelegrafMetricsSendErrorCount\"\n| summarize ptile99TgfSendLAErrorCount=percentile(value, 99) by bin(timestamp, 1d) , region\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "43": {
            "position": {
              "x": 5,
              "y": 64,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend clusterTypeControllerType = strcat(clusterType, \"-\" , controller)\n| where controller == \"ReplicaSet\"\n| where clusterType==\"AKS\"\n| where timestamp > ago(7d)\n| summarize replicaExceptionCount=count() by agentVersion, bin(timestamp, 6h)\n| render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "replicaExceptionCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "agentVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "e9b2bd78-11c1-440e-aa16-a9aa6f3ce575"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Replica exceptions by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend json=customDimensions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| where controller == \"ReplicaSet\"\n| where timestamp > ago(7d)\n| summarize replicaExceptionCount=count() by agentVersion, bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "44": {
            "position": {
              "x": 10,
              "y": 64,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions \n| extend controller=tostring(customDimensions.ControllerType)\n| extend dockerVersion = tostring(customDimensions.DockerVersion)\n| where controller == \"ReplicaSet\"\n| where dockerVersion != \"\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by dockerVersion, bin(timestamp, 6h)\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "exceptionCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "dockerVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "f8eb1b29-4531-4ffa-8939-e2a1aa8ee96b"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Replica exceptions by Docker version",
                  "PartSubTitle": "7d",
                  "Query": "exceptions \n| extend json=customDimensions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend dockerVersion = tostring(customDimensions.DockerVersion)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| where controller == \"ReplicaSet\"\n| where dockerVersion != \"\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by dockerVersion, bin(timestamp, 1d)\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "45": {
            "position": {
              "x": 0,
              "y": 67,
              "colSpan": 14,
              "rowSpan": 1
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "settings": {
                    "content": "<span style=\"color: #42b9f5; font-family: Babas; font-size: 3em;\">Non-AKS - Daemon set Performance</span>\n",
                    "title": "",
                    "subtitle": ""
                  }
                }
              }
            }
          },
          "46": {
            "position": {
              "x": 0,
              "y": 68,
              "colSpan": 7,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where timestamp > ago(7d)\r\n| summarize averageMilliCores = avg(value/1000000) by bin(timestamp, 6h)  ),  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where timestamp > ago(7d)\r\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 6h)   ),  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where timestamp > ago(7d)\r\n| summarize 99PTileMilliCores = percentile(value/1000000, 99) by bin(timestamp, 6h)  ), (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend limitmc=150\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where timestamp > ago(7d)\r\n| summarize LimitMilliCores = max(limitmc) by bin(timestamp, 6h)  )\r\n|render timechart \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "averageMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "95PTileMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "99PTileMilliCores",
                        "type": "real"
                      },
                      {
                        "name": "LimitMilliCores",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "6b5b7c3e-6aab-4490-bd6e-ed5cd0a75575"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset CPU Usage",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"cpuUsageNanoCores\"\n| extend PodName=tostring(customDimensions.PodName)\n| where PodName !has \"omsagent-rs\"\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| summarize averageMilliCores = avg(value/1000000), 95PTileMilliCores = percentile(value/1000000, 95), 99PTileMilliCores = percentile(value/1000000, 99), LimitMilliCores = 150 by bin(timestamp, 1d)\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "47": {
            "position": {
              "x": 7,
              "y": 68,
              "colSpan": 7,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"memoryRssBytes\"\r\n| where timestamp > ago(7d)\r\n| summarize averageMiB = avg(value/(1024*1024)) by bin(timestamp, 6h)   ),  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"memoryRssBytes\"\r\n| where timestamp > ago(7d)\r\n| summarize 95PTileMiB = percentile(value/ (1024*1024), 95) by bin(timestamp, 6h)  ),  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"memoryRssBytes\"\r\n| where timestamp > ago(7d)\r\n| summarize 99PTileMB = percentile(value/ (1024*1024), 99) by bin(timestamp, 6h)    ),  (  customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend limitMiBytes=600\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"memoryRssBytes\"\r\n| where timestamp > ago(7d)\r\n| summarize LimitMiB = max(limitMiBytes) by bin(timestamp, 6h)    )\r\n|render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "averageMiB",
                        "type": "real"
                      },
                      {
                        "name": "95PTileMiB",
                        "type": "real"
                      },
                      {
                        "name": "99PTileMB",
                        "type": "real"
                      },
                      {
                        "name": "LimitMiB",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "427a3a6f-c15f-4901-a343-a2f744b2db4d"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset Memory usage",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where timestamp > ago(7d)\n| where name == \"memoryRssBytes\"\n| extend PodName=tostring(customDimensions.PodName)\n| where PodName !has \"omsagent-rs\"\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| summarize averageMiB = avg(value/(1024*1024)), 95PTileMiB = percentile(value/ (1024*1024), 95), 99PTileMB = percentile(value/ (1024*1024), 99), LimitMiB = 600 by bin(timestamp, 1d)\n| render timechart"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "48": {
            "position": {
              "x": 0,
              "y": 71,
              "colSpan": 7,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend region=tostring(customDimensions.Region)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"cpuUsageNanoCores\"\r\n| where timestamp > ago(7d)\r\n| where region != \"\"\r\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 6h), region\r\n|render timechart | limit 100000\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "95PTileMilliCores",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "ae45c3bb-045a-4664-90a0-1c2da12f45db"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset CPU usage (95th ptile) by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| extend json=customDimensions\n| extend PodName=tostring(customDimensions.PodName)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend region=tostring(customDimensions.AgentVersion)\n| where PodName !has \"omsagent-rs\"\n| where name == \"cpuUsageNanoCores\"\n| where timestamp > ago(7d)\n| where region != \"\"\n| summarize 95PTileMilliCores = percentile(value/1000000, 95) by bin(timestamp, 1d), region\n| render timechart | limit 100000\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "49": {
            "position": {
              "x": 7,
              "y": 71,
              "colSpan": 7,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "set notruncation;\r\ncustomMetrics\r\n| extend PodName=tostring(customDimensions.PodName)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend region=tostring(customDimensions.Region)\r\n| where clusterType ==\"AKS\"\r\n| where PodName !has \"omsagent-rs\"\r\n| where name == \"memoryRssBytes\"\r\n| where timestamp > ago(7d)\r\n| summarize 95PTileMiB = percentile(value/ (1024*1024), 95) by bin(timestamp, 6h),region\r\n| order by region asc\r\n| render timechart | limit 100000 \n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "95PTileMiB",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "0afdbf10-b28d-4684-831d-0f40c32f56b9"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset Memory usage (95th ptile) by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "set notruncation;\ncustomMetrics\n| extend json=customDimensions\n| extend PodName=tostring(customDimensions.PodName)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend region=tostring(customDimensions.AgentVersion)\n| where PodName !has \"omsagent-rs\"\n| where name == \"memoryRssBytes\"\n| where timestamp > ago(7d)\n| summarize 95PTileMiB = percentile(value/ (1024*1024), 95) by bin(timestamp, 1d),region\n| order by region asc\n| render timechart | limit 100000 \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "50": {
            "position": {
              "x": 0,
              "y": 74,
              "colSpan": 15,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend agentVersion=tostring(customDimensions.AgentVersion)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend clusterId=tostring(customDimensions.AKS_RESOURCE_ID)\r\n| extend fileName0=split(tostring(details[0].parsedStack[0].fileName),\"/\")\r\n| extend fileName1=array_length(fileName0)-1\r\n| extend fileName= strcat(fileName0[fileName1], \".\",tostring(details[0].parsedStack[0].line),\"::\",tostring(details[0].parsedStack[0].method))\r\n| where controller == \"DaemonSet\"\r\n| where clusterType == \"AKS\"\r\n| where timestamp > ago(7d)\r\n| summarize exceptionCount=count() by fileName, outerMethod, outerMessage, agentVersion //,clusterId\r\n//| summarize clusterCount=dcount(clusterId) by exceptionCount, fileName, outerMessage, outerMethod, agentVersion\r\n| project fileName, exceptionCount, message=outerMessage, method=outerMethod, agentVersion //clusterCount\r\n| order by  exceptionCount desc, agentVersion desc //clusterCount desc\r\n| take 25\n"
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "39036090-11c5-4ecf-8b2a-2f00e5be8e46"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsGrid"
                },
                {
                  "name": "Dimensions",
                  "isOptional": true
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset - Top 25 exceptions by count",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend json=customDimensions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend clusterId= iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId)\n| extend fileName0=split(tostring(details[0].parsedStack[0].fileName),\"/\")\n| extend fileName1=array_length(fileName0)-1\n| extend fileName= strcat(fileName0[fileName1], \".\",tostring(details[0].parsedStack[0].line),\"::\",tostring(details[0].parsedStack[0].method))\n| where controller == \"DaemonSet\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by fileName, outerMethod, outerMessage, agentVersion //,clusterId\n//| summarize clusterCount=dcount(clusterId) by exceptionCount, fileName, outerMessage, outerMethod, agentVersion\n| project fileName, exceptionCount, message=outerMessage, method=outerMethod, agentVersion //clusterCount\n| order by  exceptionCount desc, agentVersion desc //clusterCount desc\n| take 25",
                  "GridColumnsWidth": {
                    "fileName": "261px",
                    "exceptionCount": "261px",
                    "message": "392px",
                    "method": "179px",
                    "agentVersion": "261px"
                  }
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "51": {
            "position": {
              "x": 0,
              "y": 78,
              "colSpan": 15,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| where customDimensions.ACSResourceName != \"\"\r\n| where timestamp > ago(7d)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where controller == \"DaemonSet\"\r\n| where clusterType==\"ACS\"\r\n| summarize clustercount=dcount(tostring(customDimensions.ACSResourceName)) by outerMessage\r\n| order by clustercount desc\r\n| take 5\r\n| join (exceptions\r\n| where customDimensions.ACSResourceName != \"\"\r\n| where timestamp > ago(7d)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| where controller == \"DaemonSet\"\r\n| where clusterType==\"ACS\"\r\n) on outerMessage \r\n| summarize dcount(tostring(customDimensions.ACSResourceName)) by outerMessage, bin(timestamp, 1h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_ACSResourceName",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "outerMessage",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "2383e984-d41a-4db6-b70e-a58027751bf0"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset top exceptions by cluster count",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| where customDimensions.ACSResourceName != \"\"\n| where timestamp > ago(7d)\n| extend json=customDimensions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where controller == \"DaemonSet\"\n| where clusterType==\"ACS\"\n| summarize clustercount=dcount(tostring(customDimensions.ACSResourceName)) by outerMessage\n| order by clustercount desc\n| take 5\n| join (exceptions\n| where customDimensions.ACSResourceName != \"\"\n| where timestamp > ago(7d)\n| extend json=customDimensions\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controller=tostring(customDimensions.ControllerType)\n| where controller == \"DaemonSet\"\n| where clusterType==\"ACS\"\n) on outerMessage \n| summarize dcount(tostring(customDimensions.ACSResourceName)) by outerMessage, bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "52": {
            "position": {
              "x": 0,
              "y": 82,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| extend agentVersion=tostring(customDimensions.AgentVersion)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where controller == \"DaemonSet\"\r\n| where clusterType==\"AKS\"\r\n| where timestamp > ago(7d)\r\n| summarize replicaExceptionCount=count() by agentVersion, bin(timestamp, 6h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "replicaExceptionCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "agentVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "61839daa-e92f-4de9-b797-a19ff81f887d"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset exceptions by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| extend json=customDimensions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| where controller == \"DaemonSet\"\n| where timestamp > ago(7d)\n| summarize replicaExceptionCount=count() by agentVersion, bin(timestamp, 1d)\n| render timechart "
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "53": {
            "position": {
              "x": 5,
              "y": 82,
              "colSpan": 10,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions \r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend dockerVersion = tostring(customDimensions.DockerVersion)\r\n| where controller == \"DaemonSet\"\r\n| where dockerVersion != \"\"\r\n| where timestamp > ago(7d)\r\n| summarize exceptionCount=count() by dockerVersion, bin(timestamp, 6h)\r\n| render timechart\r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "exceptionCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "dockerVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "b34b6968-c934-4c87-aa51-2e3353715a42"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset exceptions by Docker version",
                  "PartSubTitle": "7d",
                  "Query": "exceptions \n| extend json=customDimensions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend dockerVersion = tostring(customDimensions.DockerVersion)\n| where controller == \"DaemonSet\"\n| where dockerVersion != \"\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by dockerVersion, bin(timestamp, 1d)\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "54": {
            "position": {
              "x": 0,
              "y": 85,
              "colSpan": 15,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\r\n| where customDimensions.ACSResourceName != \"\"\r\n| extend agentVersion=tostring(customDimensions.AgentVersion)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where controller == \"DaemonSet\"\r\n| where clusterType==\"ACS\"\r\n| where timestamp > ago(7d)\r\n| summarize count() by tostring(customDimensions.ACSResourceName)\r\n| order by count_ desc\r\n| take 10\r\n| join (\r\nexceptions\r\n| where customDimensions.ACSResourceName != \"\"\r\n| extend agentVersion=tostring(customDimensions.AgentVersion)\r\n| extend controller=tostring(customDimensions.ControllerType)\r\n| extend clusterType=tostring(customDimensions.ClusterType)\r\n| where controller == \"DaemonSet\"\r\n| where clusterType==\"ACS\"\r\n| where timestamp > ago(7d)\r\n| extend customDimensions_ACSResourceName=tostring(customDimensions.ACSResourceName)\r\n) on customDimensions_ACSResourceName\r\n| summarize count() by customDimensions_ACSResourceName, bin(timestamp, 1h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "count_",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "customDimensions_ACSResourceName",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "6c41fadb-5d01-45f0-80fb-9d9a45bbfe0f"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset exceptions by AKS-Engine clusters(Top 10)",
                  "PartSubTitle": "7d",
                  "Query": "exceptions\n| where customDimensions.ACSResourceName != \"\"\n| extend json=customDimensions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where controller == \"DaemonSet\"\n| where clusterType==\"ACS\"\n| where timestamp > ago(7d)\n| summarize count() by tostring(customDimensions.ACSResourceName)\n| order by count_ desc\n| take 10\n| join (\nexceptions\n| where customDimensions.ACSResourceName != \"\"\n| extend json=customDimensions\n| extend agentVersion=tostring(customDimensions.AgentVersion)\n| extend controller=tostring(customDimensions.ControllerType)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| where controller == \"DaemonSet\"\n| where clusterType==\"ACS\"\n| where timestamp > ago(7d)\n| extend customDimensions_ACSResourceName=tostring(customDimensions.ACSResourceName)\n) on customDimensions_ACSResourceName\n| summarize count() by customDimensions_ACSResourceName, bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "55": {
            "position": {
              "x": 0,
              "y": 89,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics \n| extend ACSclusterid=tostring(customDimensions.ACS_RESOURCE_NAME)\n| extend clusterType=tostring(customDimensions.ClusterType)\n| extend controllerType=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.Region)\n| where timestamp > ago(7d)\n| where clusterType == \"AKS\"\n|where controllerType == \"DaemonSet\"\n|where name == \"TelegrafMetricsSendErrorCount\"\n| summarize ptile99TgfSendLAErrorCount=percentile(value, 99) by bin(timestamp, 6h) , region\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "ptile99TgfSendLAErrorCount",
                        "type": "real"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "1a1778d7-54f7-4a69-83fa-38c2958186c6"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset - InsightsMetrics - ODS errors by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics \n| extend dim=customDimensions\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend controllerType=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.AgentVersion)\n| where timestamp > ago(7d)\n| where controllerType == \"DaemonSet\"\n| where name == \"TelegrafMetricsSendErrorCount\"\n| summarize ptile99TgfSendLAErrorCount=percentile(value, 99) by bin(timestamp, 1d) , region\n| render timechart\n\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "56": {
            "position": {
              "x": 5,
              "y": 89,
              "colSpan": 10,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "exceptions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend region=tostring(customDimensions.Region)\n| where region != \"\"\n| where controller == \"DaemonSet\"\n| where outerMessage has \"ods.opinsights.azure.com\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by region, bin(timestamp, 6h)\n| summarize exceptioncount=percentile(exceptionCount,99) by region, bin(timestamp, 6h)\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "exceptioncount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "region",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "f8f76d5d-ac32-4d6b-a242-1d52455cd30e"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Daemonset - ContainerLogs - ODS errors by Agent version",
                  "PartSubTitle": "ContainerInsightsAgent-Prod",
                  "Query": "exceptions\n| extend json=customDimensions\n| extend controller=tostring(customDimensions.ControllerType)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend region=tostring(customDimensions.AgentVersion)\n| where region != \"\"\n| where controller == \"DaemonSet\"\n| where outerMessage has \"ods.opinsights.azure.com\"\n| where timestamp > ago(7d)\n| summarize exceptionCount=count() by region, bin(timestamp, 1d)\n| summarize exceptioncount=percentile(exceptionCount,99) by region, bin(timestamp, 1d)\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "57": {
            "position": {
              "x": 0,
              "y": 92,
              "colSpan": 5,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "traces\r\n| extend cType=tostring(customDimensions.ClusterType)\r\n| extend agentVersion = tostring(customDimensions.AgentVersion)\r\n| extend clusterId =  tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where cType==\"AKS\"\r\n| where isnotempty(clusterId)\r\n| where timestamp > ago(7d)\r\n| where message has \"config::error\"\r\n| where clusterId !has \"692aea0b-2d89-4e7e-ae30-fffe40782ee2\"\r\n| where clusterId !has \"72c8e8ca-dc16-47dc-b65c-6b5875eb600a\"\r\n| where message has 'Exception while reading config settings for health_model enabled setting'\r\n| summarize clusterCount=count() by clusterId, agentVersion, bin(timestamp, 6h)\r\n| summarize HealthConfigParsingerrors=count() by agentVersion, bin(timestamp, 6h)\r\n| render timechart\r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "HealthConfigParsingerrors",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "agentVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "226509ec-faef-4905-97bd-94a5432088f4"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Health config processing errors by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "traces\n| extend json=customDimensions\n| extend cType=tostring(customDimensions.ClusterType)\n| extend agentVersion = tostring(customDimensions.AgentVersion)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend  clusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId) \n| where timestamp > ago(7d)\n| where message has \"config::error\"\n| where message has 'Exception while reading config settings for health_model enabled setting'\n| summarize clusterCount=count() by clusterId, agentVersion, bin(timestamp, 1d)\n| summarize HealthConfigParsingerrors=count() by agentVersion, bin(timestamp, 1d)\n| render timechart\n\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "58": {
            "position": {
              "x": 5,
              "y": 92,
              "colSpan": 10,
              "rowSpan": 3
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourcegroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "traces\r\n| extend cType=tostring(customDimensions.ClusterType)\r\n| extend agentVersion = tostring(customDimensions.AgentVersion)\r\n| extend clusterId = tostring(customDimensions.AKS_RESOURCE_ID)\r\n| where timestamp > ago(7d)\r\n| where cType == \"AKS\"\r\n| where isnotempty(clusterId)\r\n| where message has \"config::error\"\r\n| where message has 'Exception while parsing toml config file for prometheus config' or message has 'config::error::Exception while parsing config file for prometheus config for replicaset' or message has 'config::error::Exception while parsing config file for prometheus config for daemonset' or message has 'config::error:: Controller undefined while processing prometheus config, using defaults'\r\n| summarize clusterCount=count() by clusterId, agentVersion, bin(timestamp, 6h)\r\n| summarize errorCount=count() by agentVersion, bin(timestamp, 6h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "errorCount",
                        "type": "long"
                      }
                    ],
                    "splitBy": [
                      {
                        "name": "agentVersion",
                        "type": "string"
                      }
                    ],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "d785aa0a-e1e4-4584-9f3d-eb27700f786f"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Prometheus config processing errors by Agent version",
                  "PartSubTitle": "7d",
                  "Query": "traces\n| extend json=customDimensions\n| extend cType=tostring(customDimensions.ClusterType)\n| extend agentVersion = tostring(customDimensions.AgentVersion)\n| extend ACSResourceName =  tostring(customDimensions.ACSResourceName), AksResourceId = tostring(customDimensions.AKS_RESOURCE_ID)\n| where isnotempty(ACSResourceName) or  (isnotempty(AksResourceId) and AksResourceId !has \"Microsoft.ContainerService/managedClusters\")\n| extend  clusterId = iff(isnotempty(ACSResourceName), ACSResourceName, AksResourceId) \n| where timestamp > ago(7d)\n| where message has \"config::error\"\n| where message has 'Exception while parsing toml config file for prometheus config' or message has 'config::error::Exception while parsing config file for prometheus config for replicaset' or message has 'config::error::Exception while parsing config file for prometheus config for daemonset' or message has 'config::error:: Controller undefined while processing prometheus config, using defaults'\n| summarize clusterCount=count() by clusterId, agentVersion, bin(timestamp, 1d)\n| summarize errorCount=count() by agentVersion, bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "59": {
            "position": {
              "x": 0,
              "y": 95,
              "colSpan": 5,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name has \"cpuUsageNanoCores\"\r\n| where timestamp > ago(1d)\r\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\" and customDimensions.CAdvisorIsSecure != \"\"\r\n| extend cAdvisorIsSecure=tostring(customDimensions.CAdvisorIsSecure)\r\n| project tostring(customDimensions.ACSResourceName), tostring(customDimensions.CAdvisorIsSecure), timestamp\r\n//| summarize count() by tostring(customDimensions_AKS_RESOURCE_ID)\r\n| summarize arg_max(timestamp,*) by customDimensions_ACSResourceName\r\n| join\r\n(\r\n    customMetrics\r\n    | where name has \"NodeMemory\"\r\n    | where timestamp > ago(1d)\r\n    //| extend trimmedVersion=trim_end(\".*\", tostring(customDimensions.KubeletVersion))\r\n    | project tostring(customDimensions.ACSResourceName), tostring(customDimensions.KubeletVersion)\r\n)\r\non customDimensions_ACSResourceName\r\n| where customDimensions_CAdvisorIsSecure == \"false\"\r\n| summarize arg_max(timestamp, *) by customDimensions_ACSResourceName\r\n//| summarize dcount(customDimensions_AKS_RESOURCE_ID) by customDimensions_CAdvisorIsSecure, customDimensions_KubeletVersion\r\n| summarize dcount(customDimensions_ACSResourceName) by customDimensions_KubeletVersion\r\n| render piechart\r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "customDimensions_KubeletVersion",
                      "type": "string"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_ACSResourceName",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "10153aef-4d27-45d6-a813-9135c7f85bce"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsDonut"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "CAdvisor-Insecure",
                  "PartSubTitle": "1d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "60": {
            "position": {
              "x": 5,
              "y": 95,
              "colSpan": 10,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name has \"cpuUsageNanoCores\"\r\n| where timestamp > ago(1d)\r\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\" and customDimensions.CAdvisorIsSecure != \"\"\r\n| extend cAdvisorIsSecure=tostring(customDimensions.CAdvisorIsSecure)\r\n| project tostring(customDimensions.ACSResourceName), tostring(customDimensions.CAdvisorIsSecure), timestamp\r\n//| summarize count() by tostring(customDimensions_AKS_RESOURCE_ID)\r\n| summarize arg_max(timestamp,*) by customDimensions_ACSResourceName\r\n| join\r\n(\r\n    customMetrics\r\n    | where name has \"NodeMemory\"\r\n    | where timestamp > ago(1d)\r\n    //| extend trimmedVersion=trim_end(\".*\", tostring(customDimensions.KubeletVersion))\r\n    | project tostring(customDimensions.ACSResourceName), tostring(customDimensions.KubeletVersion)\r\n)\r\non customDimensions_ACSResourceName\r\n| where customDimensions_CAdvisorIsSecure == \"true\"\r\n| summarize arg_max(timestamp, *) by customDimensions_ACSResourceName\r\n//| summarize dcount(customDimensions_AKS_RESOURCE_ID) by customDimensions_CAdvisorIsSecure, customDimensions_KubeletVersion\r\n| summarize dcount(customDimensions_ACSResourceName) by customDimensions_KubeletVersion\r\n| render piechart\r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "customDimensions_KubeletVersion",
                      "type": "string"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_ACSResourceName",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "15cfc870-1462-428d-ba65-81c53886cce4"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsDonut"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                },
                {
                  "name": "SpecificChart",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "CAdvisor-Secure",
                  "PartSubTitle": "1d"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "61": {
            "position": {
              "x": 0,
              "y": 99,
              "colSpan": 7,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "union( customMetrics\r\n| where name == \"EventCount\"\r\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\"\r\n| where timestamp > ago(7d)\r\n//| extend aksengine = tostring(customDimensions.ACSResourceName)\r\n//| extend region=tostring(customDimensions.Region)\r\n| summarize 95th=percentile(value, 95) by bin(timestamp, 6h)),\r\n( customMetrics\r\n| where name == \"EventCount\"\r\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\"\r\n| where timestamp > ago(7d)\r\n//| extend aksengine = tostring(customDimensions.ACSResourceName)\r\n//| extend region=tostring(customDimensions.Region)\r\n| summarize 99th=percentile(value, 99) by bin(timestamp, 6h) \r\n), (\r\ncustomMetrics\r\n| where name == \"EventCount\"\r\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\"\r\n| where timestamp > ago(7d)\r\n//| extend aksengine = tostring(customDimensions.ACSResourceName)\r\n//| extend region=tostring(customDimensions.Region)\r\n| summarize avg=avg(value) by bin(timestamp, 6h) )\r\n| render timechart\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "95th",
                        "type": "real"
                      },
                      {
                        "name": "99th",
                        "type": "real"
                      },
                      {
                        "name": "avg",
                        "type": "real"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "1323893f-366c-42cb-9c72-82f27c4a11cb"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Number of KubeEvents per cluster",
                  "PartSubTitle": "7d",
                  "Query": "union( customMetrics\n| where name == \"EventCount\"\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\"\n| where timestamp > ago(7d)\n//| extend aksengine = tostring(customDimensions.ACSResourceName)\n//| extend region=tostring(customDimensions.Region)\n| summarize 95th=percentile(value, 95) by bin(timestamp, 1d)),\n( customMetrics\n| where name == \"EventCount\"\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\"\n| where timestamp > ago(7d)\n//| extend aksengine = tostring(customDimensions.ACSResourceName)\n//| extend region=tostring(customDimensions.Region)\n| summarize 99th=percentile(value, 99) by bin(timestamp, 1d) \n), (\ncustomMetrics\n| where name == \"EventCount\"\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\"\n| where timestamp > ago(7d)\n//| extend aksengine = tostring(customDimensions.ACSResourceName)\n//| extend region=tostring(customDimensions.Region)\n| summarize avg=avg(value) by bin(timestamp, 1d) )\n| render timechart\n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          },
          "62": {
            "position": {
              "x": 7,
              "y": 99,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "ComponentId",
                  "value": {
                    "SubscriptionId": "13d371f9-5a39-46d5-8e1b-60158c49db84",
                    "ResourceGroup": "ContainerInsightsAgent-Prod",
                    "Name": "ContainerInsightsAgent-Prod",
                    "ResourceId": "/subscriptions/13d371f9-5a39-46d5-8e1b-60158c49db84/resourceGroups/ContainerInsightsAgent-Prod/providers/microsoft.insights/components/ContainerInsightsAgent-Prod"
                  }
                },
                {
                  "name": "Query",
                  "value": "customMetrics\r\n| where name == \"NodeCoreCapacity\" \r\n| where timestamp > ago(7d)\r\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\"\r\n//| where customDimensions has \"rashmi-aks-engine-demo\"\r\n//| where customDimensions.ACSResourceName == \"rashmi-aks-engine-demo\"\r\n| where customDimensions.collectAllKubeEvents == \"true\"\r\n| summarize dcount(tostring(customDimensions.ACSResourceName)) by bin(timestamp, 6h)\r\n| render timechart \r\n"
                },
                {
                  "name": "Dimensions",
                  "value": {
                    "xAxis": {
                      "name": "timestamp",
                      "type": "datetime"
                    },
                    "yAxis": [
                      {
                        "name": "dcount_customDimensions_ACSResourceName",
                        "type": "long"
                      }
                    ],
                    "splitBy": [],
                    "aggregation": "Sum"
                  }
                },
                {
                  "name": "Version",
                  "value": "1.0"
                },
                {
                  "name": "PartId",
                  "value": "1cf4c5d6-1366-45e9-897d-c9a1f9113e48"
                },
                {
                  "name": "PartTitle",
                  "value": "Analytics"
                },
                {
                  "name": "PartSubTitle",
                  "value": "ContainerInsightsAgent-Prod"
                },
                {
                  "name": "resourceTypeMode",
                  "value": "components"
                },
                {
                  "name": "ControlType",
                  "value": "AnalyticsChart"
                },
                {
                  "name": "SpecificChart",
                  "value": "Line"
                },
                {
                  "name": "TimeRange",
                  "isOptional": true
                },
                {
                  "name": "DashboardId",
                  "isOptional": true
                }
              ],
              "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
              "settings": {
                "content": {
                  "PartTitle": "Number of clusters with normal events enabled",
                  "PartSubTitle": "7d",
                  "Query": "customMetrics\n| where name == \"NodeCoreCapacity\" \n| where timestamp > ago(7d)\n| where customDimensions.ACSResourceName != \"\" and customDimensions.ClusterType == \"ACS\"\n//| where customDimensions has \"rashmi-aks-engine-demo\"\n//| where customDimensions.ACSResourceName == \"rashmi-aks-engine-demo\"\n| where customDimensions.collectAllKubeEvents == \"true\"\n| summarize dcount(tostring(customDimensions.ACSResourceName)) by bin(timestamp, 1d)\n| render timechart \n"
                }
              },
              "asset": {
                "idInputName": "ComponentId",
                "type": "ApplicationInsights"
              }
            }
          }
        }
      }
    },
    "metadata": {
      "model": {
        "timeRange": {
          "value": {
            "relative": {
              "duration": 24,
              "timeUnit": 1
            }
          },
          "type": "MsPortalFx.Composition.Configuration.ValueTypes.TimeRange"
        },
        "filterLocale": {
          "value": "en-us"
        },
        "filters": {
          "value": {
            "MsPortalFx_TimeRange": {
              "model": {
                "format": "local",
                "granularity": "1d",
                "relative": "7d"
              },
              "displayCache": {
                "name": "Local Time",
                "value": "Past 7 days"
              },
              "filteredPartIds": [
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c018",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c01a",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c01c",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c01e",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c020",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c022",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c024",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c026",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c028",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c02a",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c02c",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c02e",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c030",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c034",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c036",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c038",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c03a",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c03e",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c040",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c042",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c044",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c046",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c048",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c04a",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c04e",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c050",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c052",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c054",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c056",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c058",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c05a",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c05e",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c060",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c062",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c064",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c066",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c068",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c06a",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c06c",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c06e",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c072",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c074",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c076",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c078",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c07a",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c07c",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c07e",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c080",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c082",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c084",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c086",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c088",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c08a",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c08c",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c08e",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c090",
                "StartboardPart-AnalyticsPart-b86010ab-d950-471d-8824-c9f27233c092"
              ]
            }
          }
        }
      }
    }
  },
  "name": "Container Insights Agent (non-AKS)",
  "type": "Microsoft.Portal/dashboards",
  "location": "INSERT LOCATION",
  "tags": {
    "hidden-title": "Container Insights Agent (non-AKS)"
  },
  "apiVersion": "2015-08-01-preview"
}