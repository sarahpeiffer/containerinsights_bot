var DependencyMap;!function(a){"use strict";a.version="2.0.5"}(DependencyMap||(DependencyMap={})),function(a,b,c){"use strict";var d=function(a){var b=(a||"").toUpperCase();return"TRUE"===b||"FALSE"!==b&&(/^-?\d*\.?\d*?$/.test(a)?+a:a)},e=/-([a-z]|[0-9])/gi,f=function(a,b){return(b+"").toUpperCase()},g=function(a){return a.replace(e,f)},h=function(a){return void 0===a||null===a?"":(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},i=function(a,b,c,e){var f,h,i,j,k={},l=new RegExp("^"+b.replace("-","\\-")+"\\-(.+)$"),m=a.attributes||[];for(f=0,h=m.length;f<h;f++)(i=m[f].nodeName.match(l))&&(j=d(m[f].nodeValue),(void 0===c||c)&&(k[g(i[1])]=j),e&&(k[i[1]]=j));return k},j=2e3,k=function(a){return parseInt(a,10)===j?a:j+=3},l=function(a,b,c){a=a||"";var d,e=new RegExp("([?&])"+b+"=.*?(&|$)","i"),f=a.indexOf("#"),g=f>=0?a.substr(0,f):a,h=f>=0?a.substr(f):"";return 3===g.split("/").length&&(g+="/"),b=encodeURIComponent(b),c=encodeURIComponent(c),g?(d=-1!==g.indexOf("?")?"&":"?",(g=g.match(e)?g.replace(e,"$1"+b+"="+c+"$2"):g+d+b+"="+c)+h):null},m=function(a,c){var d,e,f,g=a.tagName;switch(g){case"TABLE":d="tr";break;case"TR":d="td";break;case"UL":d="li";break;default:d="span"}c&&(f=a.getAttribute("aria-live"),a.setAttribute("aria-live","assertive")),e=b.document.createElement(d),a.appendChild(e),a.removeChild(e),c&&(f?a.setAttribute("aria-live",f):a.removeAttribute("aria-live"))};a.extend(!0,b,{fx:{utilities:{attributesToObject:i,getNextZIndex:k,getUrlWithQueryStringParameter:l,htmlEncode:h,forceRead:m}}})}(jQuery,this),function(a,b,c){"use strict";var d="fx-editablecontrol",e="fx-editablecontrol-edited",f="fx-childcontrol";a.widget("fx.editablecontrol",{options:{value:void 0,trackedit:!0,edit:a.noop,noedit:a.noop,change:a.noop},_controlClassName:d,_controlEditedClassName:e,_originalValue:void 0,_editedFlag:!1,_creating:!0,_create:function(){this.widgetEventPrefix="","number"==typeof this.options.value&&(this.options.value+=""),this.setOriginalValue(),this._set(this.options.value),this.element.addClass(this._controlClassName);var b=this;this.element.on("method.editablecontrol",function(){var c=arguments[1],d=Array.prototype.slice.call(arguments,2);return!(!a.isFunction(b[c])||"_"===c.charAt(0))&&b[c].apply(b,d)}),this._creating=!1},destroy:function(){this.element.removeClass(this._controlClassName).removeClass(this._controlEditedClassName).off("method.editablecontrol"),delete this._originalValue;try{b._destroy.call(this)}catch(a){}},revert:function(){this._set(this._originalValue)},setOriginalValue:function(){this._originalValue=this.options.value,this._editedFlag=!1,this.element.removeClass(this._controlEditedClassName)},value:function(){return this.options.value},_set:function(a){this._checkEdited(a),this.options.value=a},_valueComparer:function(a,b){return a==b},_checkEdited:function(a){if(!this._creating){!this._valueComparer(a,this.options.value)&&(this.options.trackedit&&(this._valueComparer(a,this._originalValue)?this._editedFlag&&(this.element.removeClass(this._controlEditedClassName),this._trigger("noedit",null,{value:a}),this._editedFlag=!1):this._editedFlag||(this.element.addClass(this._controlEditedClassName),this._trigger("edit",null,{value:a,originalValue:this._originalValue}),this._editedFlag=!0)),this._trigger("change.fxcontrol",null,{value:a}))}},_trigger:function(b,c,d){var e,f,g=b.replace(/\..*/gi,""),h=this.options[g];if(d=d||{},c=a.Event(c),c.type=b,c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(h)&&!1===h.call(this.element[0],c,d)||c.isDefaultPrevented())},_setChildControl:function(a){a?this.element.addClass(f):this.element.removeClass(f)},_setOption:function(a,c){switch(a){case"value":"number"==typeof c&&(c+=""),this._set(c);break;case"trackedit":c=!!c,c?this._checkEdited(this.options.value):this.element.removeClass(this._controlEditedClassName)}return b._setOption.apply(this,arguments)}}),a.fn.fxEditableControl=function(b){function c(a){return a.hasClass(d)||a.hasClass("waz-control")}function g(a){return a.hasClass(e)||a.hasClass("waz-control-edited")}function h(a){return c(a)?a.not("."+f):a.find("."+d).add(a.find(".waz-control")).not("."+f)}var i={triggerMethod:function(){var b,c=arguments;return this.each(function(){var d=Array.prototype.slice.call(c,0);h(a(this)).each(function(){b=a(this).triggerHandler("method.editablecontrol",d)})}),b},hasEditedControls:function(){var b=!1;return this.each(function(){h(a(this)).each(function(){if(g(a(this)))return b=!0,!1})}),b}};return i[b]?i[b].apply(this,Array.prototype.slice.call(arguments,1)):this}}(jQuery,jQuery.Widget.prototype),function(a,b,c,d){"use strict";var e=b.prototype,f=a.templates("<ul role='{{attr:ariaCompositeRole}}' aria-labelledby='{{attr:ariaLabelledBy}}'>{{for values}}<li tabindex='-1' role='{{>#parent.parent.data.ariaElementRole}}' {{>#parent.parent.data.ariaAttribute}}='false'>{{:#parent.parent.data.valueHtml(text)}}</li>{{/for}}</ul>");a.widget("fx.fxItemList",b,{options:{name:"",ariaLabelledBy:null,values:[],disabledValues:[]},_ariaAttribute:"aria-selected",_selectedClass:"fx-itemlist-selected",_ariaCompositeRole:"",_ariaElementRole:"itemlist",_create:function(){var b=this,c={ariaCompositeRole:this._ariaCompositeRole,ariaElementRole:this._ariaElementRole,ariaAttribute:this._ariaAttribute,valueHtml:function(a){return b._valueHtml(a)}};this._validateValues(this.options),this.element.addClass("fx-itemlist").html(f.render(a.extend({},this.options,c))),this._attachControl(),this._setOption("disabledValues",this.options.disabledValues),this._unselectedTabIndex(),this._attachClassNames(),this._attachEvents(),e._create.call(this)},destroy:function(){this.element.off("keydown.fxItemList","li").off("focusout.fxItemList","li").off("focusin.fxItemList","li").off("click.fxItemList","li").empty().removeClass("fx-itemlist"),e.destroy.call(this)},_valueHtml:function(a){return c.htmlEncode(a)},_validateValues:function(b){var c=b.values;if(!a.isArray(c))throw"options.values is not an array";a.each(c,function(a,b){if(void 0===b.value||void 0===b.text)throw"Each values in options.values must have a value and a text property"})},_getSelectedIndex:function(a){var b,c=!1;for(b=0;b<this.options.values.length;b++)if(this._valueComparer(this.options.values[b],a)){c=!0;break}return c?b:-1},_attachClassNames:function(){this.element.find("li:first").addClass("first-child"),this.element.find("li:last").addClass("last-child")},_attachEvents:function(){var b=this;this.element.on("click.fxItemList","li",function(){var c,d,e=a(this);"true"===e.attr(b._ariaAttribute)||b.options.disabled||b._isItemDisabled(e)||(c=a(this).index(),d=b.options.values[c],b._clicked(d))}).on("focusin.fxItemList","li",function(){0===b.element.find("["+b._ariaAttribute+"=true]").length&&b.element.find("li").not(this).attr("tabindex",-1)}).on("focusout.fxItemList","li",function(){b._unselectedTabIndex()}).on("keydown.fxItemList","li",function(c){var d,e,f=a(this),g=f.parent().find("li");switch(c.which){case 32:f.click();break;case 37:case 38:for(d=f.index()-1;d>=0;d--)if(e=g.eq(d),!b._isItemDisabled(e))return e.focus().click(),!1;break;case 39:case 40:for(d=f.index()+1;d<=b.options.values.length;d++)if(e=g.eq(d),!b._isItemDisabled(e))return e.focus().click(),!1}})},_clicked:function(a){this._trigger("click",null,{value:a}),this._set(a),this.element.find("[tabindex=0]").focus()},_set:function(a){var b,c,d=this.element.find("li").attr(this._ariaAttribute,!1).removeClass(this._selectedClass).attr("tabindex",-1);if(void 0!==a&&null!==a){if(-1===(b=this._getSelectedIndex(a)))throw"The value is not found";if(c=d.eq(b),this._isItemDisabled(c))throw"The value "+a+" is disabled";this._setSelectedLine(c)}else this._unselectedTabIndex();e._set.call(this,a)},_valueComparer:function(a,b){return a===b||void 0!==a&&null!==a&&void 0!==b&&null!==b&&a.text===b.text&&a.value===b.value},_attachControl:function(){},_setSelectedLine:function(a){a.attr(this._ariaAttribute,!0).addClass(this._selectedClass).attr("tabindex",0)},_unselectedTabIndex:function(){0===this.element.find("["+this._ariaAttribute+"=true]").length&&this.element.find("li:not([aria-disabled=true])").first().attr("tabindex",0).end().last().attr("tabindex",0)},_disableValues:function(b){var c,d=this,e=this.element.find("li");e.removeAttr("disabled").removeAttr("aria-disabled"),b&&a.each(b,function(){if(-1===(c=d._getSelectedIndex(this)))throw"Value "+this+" not found";d._setItemDisabled(e.eq(c))})},_setItemDisabled:function(a){a.attr("disabled","disabled").attr("aria-disabled","true")},_isItemDisabled:function(a){return"true"===a.attr("aria-disabled")},_setOption:function(a,b){var c=e._setOption.apply(this,arguments);return"disabled"===a?b?this.element.find("li").attr("tabindex",-1):(this._unselectedTabIndex(),this.element.find("li["+this._ariaAttribute+"=true]").attr("tabindex",0)):"disabledValues"===a&&this._disableValues(b),c}})}(jQuery,jQuery.fx.editablecontrol,this.fx.utilities),function(a,b,c){"use strict";var d=b.prototype,e=0;a.widget("fx.fxRadio",b,{_ariaCompositeRole:"radiogroup",_ariaElementRole:"radio",_ariaAttribute:"aria-checked",_attachedControl:"<input type='radio' name='' value='' tabindex='-1' />",_create:function(){this.options.name||(this.options.name="__fx-radio"+e++),this.element.addClass("fx-radio"),d._create.call(this)},destroy:function(){this.element.empty().removeClass("fx-radio"),d.destroy.call(this)},_setSelectedLine:function(a){d._setSelectedLine.call(this,a),a.find("input").prop("checked",!0),this._fixControl()},_fixControl:function(){var a;this.element[0].currentStyle&&this.element[0].currentStyle.hasLayout&&(a=this.element[0].style.display,this.element[0].style.display="none",this.element[0].style.display=a)},_setItemDisabled:function(a){a.find("input").attr("disabled","disabled"),d._setItemDisabled.call(this,a)},_disableValues:function(a){return this.element.find("input").removeAttr("disabled"),d._disableValues.apply(this,arguments)},_attachControl:function(){var b=this;this.element.find("li").each(function(c){a(b._attachedControl).attr("name",b.options.name).attr("value",b.options.values[c].value).prependTo(this)})}})}(jQuery,jQuery.fx.fxItemList);var DependencyMap;!function(a){"use strict";var b=function(){function a(){}return a.template='<div class="time-interval-selector-root time-interval-selector-root-v2">\n            <button class="time-interval-selector-face" data-bind="click: toggleDialog" aria-label="Time Range Control" role="dialog">\n                <table class="time-interval-selector-face-table">\n                    <tbody>\n                        <tr>\n                            <td class="time-interval-selector-face-label"></td>\n                            <td class="time-interval-selector-face-time">\n                                <div class="time-interval-selector-label-current-time">\n                                    <span data-bind="css: { today: timeIntervalOut.startDate().setHours(0, 0, 0, 0) === new Date().setHours(0, 0, 0, 0) }, text: timeIntervalOut.startDate.date"></span>\n                                    <span data-bind="text: timeIntervalOut.startDate.time"></span>\n                                    &mdash;\n                                    <span data-bind="text: timeIntervalOut.endDate.date, visible: timeIntervalOut.startDate.date() !== timeIntervalOut.endDate.date()"></span>\n                                    <span data-bind="text: timeIntervalOut.endDate.time"></span>\n\n                                    (<span data-bind="text: timeIntervalOut.duration.optimalFormattedDuration().duration"></span>\n                                    <span data-bind="text: timeIntervalOut.duration.optimalFormattedDuration().unit"></span>)\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </button>\n\n            <div class="time-interval-selector-popup" data-bind="visible: displayDialog">\n                <table class="time-interval-selector-popup-table">\n                    <tbody data-bind="foreach: relativeDurations.defaultable">\n                    <tr>\n                        <td>\n                            <button class="time-interval-selector-popup-mode clickable" data-bind="click: $root.applyRelativeDuration, text: $root.Strings[\'Last\' + $data / 60000 + \'MinutesOption\'], css: {selected: $root.isRelative() && $data === $root.duration() }" role="button"></button>\n                        </td>\n                    </tr>\n                    </tbody>\n\n                    <tbody>\n                    <tr>\n                        <td class="time-interval-selector-popup-mode-divider" data-bind="css: {collapsed: $root.isRelative() }">\n                            <div class="time-interval-selector-popup-mode" data-bind="click: toggleCustom"><span data-bind="text: Strings.CustomMode"></span><span class="custom-three-dots-label">...</span>\n                                <svg viewBox="0 0 12 12" data-bind="visible: !$root.isRelative()" role="presentation" focusable="false" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"><g aria-hidden="true" role="presentation"><polygon points="1,8.1 1.7,8.9 6,4.6 10.3,8.9 11,8.1 6,3.1" aria-hidden="true" role="presentation"></polygon></g></svg>\n                                <svg viewBox="0 0 12 12" data-bind="visible: $root.isRelative()" role="presentation" focusable="false" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"><g aria-hidden="true" role="presentation"><path d="M11 3.9l-.7-.8L6 7.4 1.7 3.1l-.7.8 5 5z" aria-hidden="true" role="presentation"></path></g></svg>\n                            </div>\n\n                            <form data-bind="submit: apply" style="margin: 5px 0 0 2px;">\n                                <input class="time-interval-selector-popup-control-mode-button" data-bind="checked: customMode, checkedValue: 2" id="endCustomMode" name="customMode" type="radio"/>\n                                <label class="time-interval-selector-popup-control-mode-label" data-bind="text: Strings.StartEndMode" for="endCustomMode"></label>\n                                <input class="time-interval-selector-popup-control-mode-button" data-bind="checked: customMode, checkedValue: 1" id="durationCustomMode" name="customMode" type="radio"/>\n                                <label class="time-interval-selector-popup-control-mode-label" data-bind="text: Strings.StartDurationMode" for="durationCustomMode"></label>\n\n                                <div class="time-interval-selector-popup-control-section">\n                                    <div class="time-interval-selector-popup-control-section-header" data-bind="text: Strings.StartLabel"></div>\n                                    <input type="text" class="time-interval-selector-popup-datepicker-container" data-bind="dateTimeSelector: startDate, value: startDate.date" aria-label="Start Date" />\n                                    <input type="text" class="datetime-selector-time-picker-input datetime-selector-root" data-bind="value: startDate.time" aria-label="Start Time" />\n                                </div>\n\n                                <div class="time-interval-selector-popup-control-section">\n                                    <div class="time-interval-selector-popup-control-section-header" data-bind="text: Strings.EndLabel"></div>\n                                    <input type="text" class="time-interval-selector-popup-datepicker-container" data-bind="dateTimeSelector: endDate, enable: customMode() === 2, value: endDate.date" aria-label="End Date" />\n                                    <input type="text" class="datetime-selector-time-picker-input datetime-selector-root" data-bind="enable: customMode() === 2, value: endDate.time" aria-label="End Time" />\n                                </div>\n\n                                <div class="time-interval-selector-popup-control-section">\n                                    <div class="time-interval-selector-popup-control-section-header" data-bind="text: Strings.DurationLabel" style="padding-top: 16px;"></div>\n                                    <input type="text" class="time-interval-selector-popup-duration-input" data-bind="enable: customMode() === 1, value: duration.formatted" aria-label="Duration" />\n                                    <select class="time-interval-selector-popup-duration-select" data-bind="enable: customMode() === 1, options: units, optionsText: \'name\', value: selectedUnit" aria-label="Duration Units"></select>\n\n                                    <div class="time-interval-selector-popup-time-error-message" data-bind="if: allowFutureDates() === false && endDate().valueOf() > new Date().valueOf()">\n                                        <span data-bind="text: Strings.FutureDateWarning"></span>\n                                    </div>\n                                    <div class="time-interval-selector-popup-time-error-message" data-bind="if: durationLimit() && duration() > durationLimit()">\n                                        <span data-bind="text: Strings[durationLimit() / 60000 + \'MinutesDurationWarning\']"></span>\n                                    </div>\n                                    <div class="time-interval-selector-popup-time-error-message" data-bind="if: minimumDuration() && duration() < minimumDuration()">\n                                        <span data-bind="text: Strings[minimumDuration() + \'MillisecondDurationWarning\']"></span>\n                                    </div>\n                                </div>\n\n                                <div class="time-interval-selector-popup-buttons">\n                                    <button class="time-interval-selector-popup-buttons-apply" data-bind="css: { disabled: !isValidInterval() }, text: Strings.ApplyButton" type="submit"></button>\n                                </div>\n                            </form>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>',a}();a.TimeIntervalSelectorTemplate=b}(DependencyMap||(DependencyMap={}));var DependencyMap;!function(a){"use strict";var b=function(){function a(){}return a.getResources=function(){return a.resources},a.resources={"1MillisecondDurationWarning":"Please specify a duration of at least 1 minute.","60MinutesDurationWarning":"Durations more than 1 hour are temporarily not supported.",ApplyButton:"Apply",CustomMode:"Custom",CustomTimeRange:"Custom time range",Day:"day",Days:"days",DurationLabel:"Duration",EndLabel:"End",FutureDateWarning:"Dates in the future are not supported.",Hour:"hour",Hours:"hours",Last10080MinutesOption:"Last 7 days",Last10MinutesOption:"Last 10 minutes",Last1440MinutesOption:"Last 24 hours",Last20MinutesOption:"Last 20 minutes",Last30MinutesOption:"Last 30 minutes",Last360MinutesOption:"Last 6 hours",Last43200MinutesOption:"Last 30 days",Last60MinutesOption:"Last 1 hour",Minute:"minute",Minutes:"minutes",RelativeMode:"Relative",StartDurationMode:"Start+ Duration",StartEndMode:"Start/ End",StartLabel:"Start",TimeFilter:"Time Filter...",TimeValueLabel:"Time: {0}",To:"To",Today:"Today"},a}();a.TimeIntervalSelectorResources=b}(DependencyMap||(DependencyMap={})),function(a,b){"use strict";var c=DependencyMap.TimeIntervalSelectorResources.getResources();b.widget("ui.timeSelector",{options:{amText:c.amText,pmText:c.pmText,amPm:!0,timeFormat:"hh:mm tt",predefinedTime:[{hour:0,minute:0,second:0},{hour:0,minute:30,second:0},{hour:1,minute:0,second:0},{hour:1,minute:30,second:0},{hour:2,minute:0,second:0},{hour:2,minute:30,second:0},{hour:3,minute:0,second:0},{hour:3,minute:30,second:0},{hour:4,minute:0,second:0},{hour:4,minute:30,second:0},{hour:5,minute:0,second:0},{hour:5,minute:30,second:0},{hour:6,minute:0,second:0},{hour:6,minute:30,second:0},{hour:7,minute:0,second:0},{hour:7,minute:30,second:0},{hour:8,minute:0,second:0},{hour:8,minute:30,second:0},{hour:9,minute:0,second:0},{hour:9,minute:30,second:0},{hour:10,minute:0,second:0},{hour:10,minute:30,second:0},{hour:11,minute:0,second:0},{hour:11,minute:30,second:0},{hour:12,minute:0,second:0},{hour:12,minute:30,second:0},{hour:13,minute:0,second:0},{hour:13,minute:30,second:0},{hour:14,minute:0,second:0},{hour:14,minute:30,second:0},{hour:15,minute:0,second:0},{hour:15,minute:30,second:0},{hour:16,minute:0,second:0},{hour:16,minute:30,second:0},{hour:17,minute:0,second:0},{hour:17,minute:30,second:0},{hour:18,minute:0,second:0},{hour:18,minute:30,second:0},{hour:19,minute:0,second:0},{hour:19,minute:30,second:0},{hour:20,minute:0,second:0},{hour:20,minute:30,second:0},{hour:21,minute:0,second:0},{hour:21,minute:30,second:0},{hour:22,minute:0,second:0},{hour:22,minute:30,second:0},{hour:23,minute:0,second:0},{hour:23,minute:30,second:0}],maxDateTime:null,minDateTime:null,onChange:b.noop(),onClick:b.noop(),value:null,parentInstance:null},_classNames:{isNow:"isNow",timePickerInput:"datetime-selector-time-picker-input"},_create:function(){var a=this,c=a.element,d=a.options;c.autocomplete({inline:!0,autoFocus:!0,minLength:0,delay:0,source:function(c,e){var f=c.term.replace(/_| |:/g,""),g=new RegExp(b.ui.autocomplete.escapeRegex(f),"i"),h=d.value,i={hour:0,minute:0,second:0};if(null!==d.minDateTime&&void 0!==d.minDateTime){var j=new Date(d.minDateTime);j.setHours(0,0,0,0),h.getTime()===j.getTime()&&(i=a._getTime(d.minDateTime))}var k={hour:24,minute:60,second:60};if(null!==d.maxDateTime&&void 0!==d.maxDateTime){var l=new Date(d.maxDateTime);l.setHours(0,0,0,0),h.getTime()===l.getTime()&&(k=a._getTime(d.maxDateTime))}var m=[];b.each(d.predefinedTime,function(b,c){(c.hour>i.hour||c.hour===i.hour&&c.minute>i.minute||c.hour===i.hour&&c.minute===i.minute&&c.second>=i.second)&&(c.hour<k.hour||c.hour===k.hour&&c.minute<k.minute||c.hour===k.hour&&c.minute===k.minute&&c.second<=k.second)&&m.push(a.timeToString(c,d.timeFormat,d.amPm,d.amText,d.pmText))}),e(b.map(m,function(a){if(g.test(a.replace(/_| |:/g,"")))return a}))},change:function(a,b){if(!b.item)return!0;null!==d.onChange&&void 0!==d.onChange&&d.onChange(b.item.value)},appendTo:d.parentInstance&&d.parentInstance._rootElement?d.parentInstance._rootElement:d.parentInstance}).click(function(){null!==d.onClick&&void 0!==d.onClick&&d.onClick(),c.autocomplete("search","")})}}),b.extend(jQuery.ui.timeSelector.prototype,{_getTime:function(a){var b=new Date(a);return{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds(),milliseconds:b.getMilliseconds()}},timeToString:function(a,b,c,d,e){var f=d,g=a.hour;return c&&(g>=12&&(g=a.hour-12,f=e),0===g&&(g=12)),b.replace(/(?:hh?|mm?|ss?|[tT]{2})/g,function(b){switch(b.toLowerCase()){case"h":return g;case"hh":return("0"+g).slice(-2);case"mm":return("0"+a.minute).slice(-2);case"ss":return("0"+a.second).slice(-2);case"tt":return c?f:"";default:return b.replace(/\'/g,"")||"'"}})}})}(0,jQuery),function(a,b){"use strict";var c=DependencyMap.TimeIntervalSelectorResources.getResources();b.widget("ui.dateTimeSelector",{options:{showNow:!1,currentText:c.currentText,amText:c.amText,pmText:c.pmText,amPm:!0,imagesPath:"",commonImagesPath:"",timeFormat:"hh:mm tt",dateFormat:"mm/dd/yy",dateTimeSeparator:" ",showTimeSelector:!0,predefinedTime:[{hour:0,minute:0,second:0},{hour:0,minute:30,second:0},{hour:1,minute:0,second:0},{hour:1,minute:30,second:0},{hour:2,minute:0,second:0},{hour:2,minute:30,second:0},{hour:3,minute:0,second:0},{hour:3,minute:30,second:0},{hour:4,minute:0,second:0},{hour:4,minute:30,second:0},{hour:5,minute:0,second:0},{hour:5,minute:30,second:0},{hour:6,minute:0,second:0},{hour:6,minute:30,second:0},{hour:7,minute:0,second:0},{hour:7,minute:30,second:0},{hour:8,minute:0,second:0},{hour:8,minute:30,second:0},{hour:9,minute:0,second:0},{hour:9,minute:30,second:0},{hour:10,minute:0,second:0},{hour:10,minute:30,second:0},{hour:11,minute:0,second:0},{hour:11,minute:30,second:0},{hour:12,minute:0,second:0},{hour:12,minute:30,second:0},{hour:13,minute:0,second:0},{hour:13,minute:30,second:0},{hour:14,minute:0,second:0},{hour:14,minute:30,second:0},{hour:15,minute:0,second:0},{hour:15,minute:30,second:0},{hour:16,minute:0,second:0},{hour:16,minute:30,second:0},{hour:17,minute:0,second:0},{hour:17,minute:30,second:0},{hour:18,minute:0,second:0},{hour:18,minute:30,second:0},{hour:19,minute:0,second:0},{hour:19,minute:30,second:0},{hour:20,minute:0,second:0},{hour:20,minute:30,second:0},{hour:21,minute:0,second:0},{hour:21,minute:30,second:0},{hour:22,minute:0,second:0},{hour:22,minute:30,second:0},{hour:23,minute:0,second:0},{hour:23,minute:30,second:0}],maxDateTime:null,minDateTime:null,dateTime:null,onShow:b.noop(),onClose:b.noop(),onSelect:b.noop(),value:null,now:null},_classNames:{root:"datetime-selector-root",isNow:"isNow",nowButton:"datetime-selector-now",yearPicker:"datetime-selector-year-picker",yearLabel:"year-text",yearNext:"year-next",yearPrev:"year-prev",datePicker:"datetime-selector-date-picker",timePicker:"datetime-selector-time-picker",timePickerInput:"datetime-selector-time-picker-input",timePickerComboBox:"datetime-selector-time-picker-combobox",buttons:"datetime-selector-buttons",buttonsApply:"datetime-selector-buttons-apply",buttonsCancel:"datetime-selector-buttons-cancel"},_create:function(){var a=this,c=a.element,d=a.options,e=a._classNames;a._rootElement=null,a._Now=null===d.now?new Date:new Date(d.now),a._rootElement=b("<div/>").addClass(e.root).insertAfter(c).attr("tabindex",0),c.focus(function(){a._rootElement.is(":visible")||a._show()}),a._createContainerMask(c),d.showNow&&a._createNowArea(),a._createDateSelector(),d.showTimeSelector&&a._createTimeSelector(),a._rootElement.hide(),a._datetime=d.value,b([a._rootElement,c]).keydown(function(b){27===b.keyCode&&a._hide()})},refresh:function(a){var b=this,c=b.options;c.now=void 0===a||null===a?new Date:new Date(a),b._Now=c.now,b._rootElement.is(":visible")||b._applyValue(c.value)},_createNowArea:function(){var a=this,c=a._classNames,d=a.options;b("<div/>").addClass(c.nowButton).appendTo(a._rootElement).text(d.currentText).click(function(){a._rootElement.addClass(c.isNow),d.showTimeSelector||(a._applyDateTime(),void 0!==d.onSelect&&d.onSelect(d.value),a._hide())})},_createDateMask:function(){return this.options.dateFormat.replace(/(?:mm?|dd?|yyyy?|yy?|[tT]{2})/g,function(a){switch(a.toLowerCase()){case"mm":return"29";case"dd":return"49";case"y":return"99";case"yy":return"9999";default:return a.replace(/\'/g,"")||"'"}})},_createTimeMask:function(){var a=this,b=a.options;return b.timeFormat.replace(/(?:hh?|mm?|ss?|[tT]{2})/g,function(a){switch(a.toLowerCase()){case"hh":return"29";case"mm":case"ss":return"69";case"tt":return b.amPm?"fs":"";default:return a.replace(/\'/g,"")||"'"}})},_createContainerMask:function(a){var b=this,c=b.options,d=b._createTimeMask();return b._createDateMask()+c.dateTimeSeparator+d},_createDateSelector:function(a){var c=this,d=c._classNames,e=c.options,f=b("<div/>").addClass(d.yearPicker).appendTo(c._rootElement).click(function(){c._rootElement.removeClass(d.isNow)}),g=b("<span/>").addClass(d.yearLabel).appendTo(f);b("<div/>").addClass(d.yearNext).insertAfter(g).css("background-image","url('"+e.commonImagesPath+"/next.png')").click(function(){c._updateYearValue(function(a){return parseInt(a,10)+1})}),b("<div/>").addClass(d.yearPrev).insertBefore(g).css("background-image","url('"+e.commonImagesPath+"/previous.png')").click(function(){c._updateYearValue(function(a){return parseInt(a,10)-1})});var h=b("<div/>").addClass(d.datePicker).appendTo(c._rootElement).click(function(){c._rootElement.removeClass(d.isNow)});void 0===b.datepicker._updateDatepicker_dateTimeSelector_original&&(b.datepicker._updateDatepicker_dateTimeSelector_original=b.datepicker._updateDatepicker,b.datepicker._updateDatepicker=function(a){b.datepicker._updateDatepicker_dateTimeSelector_original(a);var c=this._get(a,"dateTimeSelector_afterShow");c&&c.apply(a.input?a.input[0]:null)}),h.datepicker({inline:!0,showOtherMonths:!0,selectOtherMonths:!0,changeYear:!0,dateFormat:e.dateFormat,onSelect:function(a){var f=new Date(a);c._updateYearLabel(f.getFullYear()),c._datetime=c._getSelectedDateTime();var g=c._correctDateTime(c._datetime);if(g&&g.getTime()===e.maxDateTime.getTime()&&c._rootElement.addClass(d.isNow),c._datetime!==g){c._datetime=g;var h=b.ui.dateTimeSelector.prototype._getTime(c._datetime);b("."+d.timePickerInput,c._rootElement).val(c.timeToString(h,e.timeFormat,e.amPm,e.amText,e.pmText))}else c._rootElement.removeClass(d.isNow);e.showTimeSelector||(c._applyDateTime(),void 0!==e.onSelect&&e.onSelect(e.value),c._hide())},onChangeMonthYear:function(a,b,d){c._updateYearLabel(a)},dateTimeSelector_afterShow:function(){b(".ui-datepicker-next",c._rootElement).css("background-image","url('"+e.commonImagesPath+"/next_month.png')"),b(".ui-datepicker-prev",c._rootElement).css("background-image","url('"+e.commonImagesPath+"/previous_month.png')")}}),b(".ui-datepicker-next",c._rootElement).css("background-image","url('"+e.commonImagesPath+"/next_month.png')"),b(".ui-datepicker-prev",c._rootElement).css("background-image","url('"+e.commonImagesPath+"/previous_month.png')")},_correctDateTime:function(a){var b=this,c=b.options,d=a;return null===a?null:(null!==c.maxDateTime&&void 0!==c.maxDateTime&&(d=a.getTime()>c.maxDateTime.getTime()?new Date(c.maxDateTime):d),null!==c.minDateTime&&void 0!==c.minDateTime&&(d=a.getTime()<c.minDateTime.getTime()?new Date(c.minDateTime):d),d)},_updateYearLabel:function(a){var c=this,d=c._classNames;b("."+d.yearLabel,c._rootElement).text(a)},_updateYearValue:function(a){var c=this,d=c.options,e=b(".ui-datepicker-year :selected",c._rootElement).val(),f=a(e);if(null!==d.maxDateTime&&void 0!==d.maxDateTime){var g=new Date(d.maxDateTime);if(parseInt(f,10)>g.getFullYear())return}c._updateYearLabel(f),b("select.ui-datepicker-year",c._rootElement).val(f).change()},_createTimeSelector:function(){var a=this,c=a._classNames,d=b("<div/>").addClass(c.timePicker).appendTo(a._rootElement),e=b("div."+c.datePicker,a._rootElement),f=e.datepicker("getDate");b("<input readonly/>").addClass(c.timePickerInput).appendTo(d).timeSelector({value:f,onClick:function(){a._rootElement.removeClass(c.isNow)},parentInstance:a}).css("margin","0 20px 20px 20px"),a._createButtons(d)},_createButtons:function(a){var c=this,d=c._classNames,e=c.options,f=b("<div/>").addClass(d.buttons).appendTo(a);b("<div/>").addClass(d.buttonsCancel).click(function(){c._hide()}).appendTo(f).css("background-image","url('"+e.commonImagesPath+"/cancel_icon_transparent.png')"),b("<div/>").addClass(d.buttonsApply).click(function(){c._applyDateTime(),void 0!==e.onSelect&&e.onSelect(e.value),c._hide()}).appendTo(f).css("background-image","url('"+e.commonImagesPath+"/button-complete.png')")},_applyDateTime:function(){var a=this,b=a.options,c=a.element;b.value=a._getSelectedDateTime();var d=null===b.value?b.currentText:a.dateTimeToString(b.value,b.dateFormat,b.timeFormat,b.amPm,b.amText,b.pmText,b.dateTimeSeparator);c.val(d)},_parseTime:function(a,b){var c=this,d=c.options,e="^"+b.toString().replace(/h{1,2}/gi,"(\\d?\\d)").replace(/m{1,2}/gi,"(\\d?\\d)").replace(/s{1,2}/gi,"(\\d?\\d)").replace(/t{1,2}/gi,"("+d.pmText+"|"+d.amText+")?").replace(/\s/g,"\\s?"),f=function(a){var b=a.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|t{1,2})/g),c={h:-1,m:-1,s:-1,t:-1};if(b)for(var d=0;d<b.length;d++)-1===c[b[d].toString().charAt(0)]&&(c[b[d].toString().charAt(0)]=d+1);return c}(b),g=a.match(new RegExp(e,"i")),h="",i=0,j=0,k=0;return!!g&&(-1!==f.t&&(h=void 0===g[f.t]||0===g[f.t].length?"":g[f.t]),
-1!==f.h&&(i=h===d.amText.toUpperCase()&&"12"===g[f.h]?0:h===d.pmText.toUpperCase()&&"12"!==g[f.h]?parseInt(g[f.h],10)+12:parseInt(g[f.h],10)),-1!==f.m&&(j=parseInt(g[f.m],10)),-1!==f.s&&(k=parseInt(g[f.s],10)),{hour:i,minute:j,second:k,milliseconds:0})},_parseDateTimeString:function(a){var c,d,e=this,f=e.options;if(a.toUpperCase()===f.currentText.toUpperCase())return null;var g=-1!==a.indexOf(f.dateTimeSeparator);if(g){var h=f.timeFormat.split(f.dateTimeSeparator),i=a.split(f.dateTimeSeparator);c=i.splice(0,i.length-h.length).join(f.dateTimeSeparator),d=i.splice(0,h.length).join(f.dateTimeSeparator)}else c=a;var j=b.datepicker._getInst(b(".hasDatepicker",e._rootElement)[0]),k=b.datepicker.parseDate(f.dateFormat,c,b.datepicker._getFormatConfig(j));if(g&&""!==d){var l=e._parseTime(d,f.timeFormat);k.setHours(l.hour,l.minute,l.second)}return k},_getSelectedDateTime:function(){var a,c=this,d=c.options,e=c._classNames,f=null;return c._rootElement.hasClass(e.isNow)||(f=b("div."+e.datePicker,c._rootElement).datepicker("getDate"),d.showTimeSelector?(a=c._parseTime(b("."+e.timePickerInput,c._rootElement).val(),d.timeFormat),f=new Date(f.setHours(a.hour,a.minute,a.second,a.milliseconds))):(a=d.value,f=new Date(f.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())))),f},_getCurrentDateTimeString:function(){var a=this,c=a._classNames,d=a.options,e="";if(a._rootElement.hasClass(c.isNow))e=d.currentText;else{var f=b("div."+c.datePicker,a._rootElement).datepicker("getDate");if(d.showTimeSelector){var g=a._parseTime(b("."+c.timePickerInput,a._rootElement).val(),d.timeFormat);f=f.setHours(g.hour,g.minute,g.second,g.milliseconds)}e=a.dateTimeToString(f,d.dateFormat,d.timeFormat,d.amPm,d.amText,d.pmText,d.dateTimeSeparator)}return e},_show:function(){var a,c,d=this,e=d.element,f=d.options,g=d._classNames,h=b("div."+g.datePicker,d._rootElement);f.showNow&&e.val()===f.currentText?(d._rootElement.addClass(g.isNow),a=new Date(d._Now),d._datetime=null):(a=d._parseDateTimeString(e.val()),d._datetime=a),h.datepicker("setDate",a),c=b.ui.dateTimeSelector.prototype._getTime(a),d._updateYearLabel(a.getFullYear()),b("."+g.timePickerInput,d._rootElement).val(d.timeToString(c,f.timeFormat,f.amPm,f.amText,f.pmText)),void 0!==f.onShow&&f.onShow(d),d._rootElement.show();var i=e.position(),j=i.left+e.width()-d._rootElement.width()+parseInt(e.css("margin-left").replace("px",""),10)+parseInt(e.css("padding-left").replace("px",""),10)+parseInt(e.css("padding-right").replace("px",""),10);d._rootElement.css("left",j+"px")},_hide:function(){var a=this,b=a.options;void 0!==b.onClose&&b.onClose(b.value),a._rootElement.hide(),a._applyValue(b.value)},hide:function(){this._hide()},_applyMaxMinDateTime:function(a,c){var d=this,e=d._classNames,f=null;return f=null===a||void 0===a?new Date(d._Now):new Date(a),b("div."+e.datePicker,d._rootElement).datepicker("option",c,f),f},_applyMaxDateTime:function(a){return this._applyMaxMinDateTime(a,"maxDate")},_applyMinDateTime:function(a){return this._applyMaxMinDateTime(a,"minDate")},_applyValue:function(a){var c,d,e,f,g=this,h=g.element,i=g.options,j=g._classNames;if(g._rootElement.is(":visible"))return a;if(c=null===a?i.currentText:i.showTimeSelector?g.dateTimeToString(a,i.dateFormat,i.timeFormat,i.amPm,i.amText,i.pmText,i.dateTimeSeparator):g.dateToString(a,i.dateFormat),h.val(c),i.showNow&&h.val()===i.currentText)g._rootElement.addClass(j.isNow),e=new Date(g._Now),d=null;else{g._rootElement.removeClass(j.isNow);var k=g._parseDateTimeString(h.val());g._datetime=k,e=new Date(k),d=k}return b("div.{0}".format(j.datePicker),g._rootElement).datepicker("setDate",e),f=b.ui.dateTimeSelector.prototype._getTime(e),g._updateYearLabel(e.getFullYear()),b("."+j.timePickerInput,g._rootElement).val(g.timeToString(f,i.timeFormat,i.amPm,i.amText,i.pmText)),d},_setOption:function(a,c){var d=this,e=d.options;"minDateTime"===a&&(e.minDateTime=d._applyMinDateTime(c)),"maxDateTime"===a&&(e.maxDateTime=d._applyMaxDateTime(c)),"value"===a&&(e.value=d._applyValue(c)),b.Widget.prototype._setOption.apply(d,arguments)},destroy:function(){b.Widget.prototype.destroy.call(this),this._rootElement.remove()}}),b.extend(jQuery.ui.dateTimeSelector.prototype,{_getTime:function(a){var b=new Date(a);return{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds(),milliseconds:b.getMilliseconds()}},dateToString:function(a,b){return a=new Date(a),b.replace(/(?:mm?|dd?|yyyy?|yy?)/g,function(b){switch(b.toLowerCase()){case"m":return a.getMonth()+1;case"mm":return("0"+(a.getMonth()+1)).slice(-2);case"d":return a.getDate();case"dd":return("0"+a.getDate()).slice(-2);case"y":return("0"+a.getFullYear()).slice(-2);case"yy":return("000"+a.getFullYear()).slice(-4);default:return b.replace(/\'/g,"")||"'"}})},timeToString:function(a,b,c,d,e){var f=d,g=a.hour;return c&&(g>=12&&(g=a.hour-12,f=e),0===g&&(g=12)),b.replace(/(?:hh?|mm?|ss?|[tT]{2})/g,function(b){switch(b.toLowerCase()){case"h":return g;case"hh":return("0"+g).slice(-2);case"mm":return("0"+a.minute).slice(-2);case"ss":return("0"+a.second).slice(-2);case"tt":return c?f:"";default:return b.replace(/\'/g,"")||"'"}})},dateTimeToString:function(a,c,d,e,f,g,h){var i=new Date(a),j=b.ui.dateTimeSelector.prototype._getTime(i);return b.ui.dateTimeSelector.prototype.dateToString(i,c)+h+b.ui.dateTimeSelector.prototype.timeToString(j,d,e,f,g)}})}(0,jQuery);var DependencyMap;!function(a){"use strict";var b=function(){function b(b,e){var f=this;this.cleanup=ko.observable(),this.refresh=ko.observable(),this.timeIntervalIn=ko.observable(),this.timeIntervalOut=ko.observable(),this.allowFutureDates=ko.observable(),this.durationLimit=ko.observable(),this.minimumDuration=ko.observable(),this.relativeDurations=ko.observableArray(),this.customMode=ko.observable(c.End),this.displayDialog=ko.observable(!1),this.endDate=ko.observable(new Date),this.selectedUnit=ko.observable(),this.startDate=ko.observable(new Date),this.units=ko.observableArray(),this.isRelative=ko.observable(!0),this.OneMinuteInMs=6e4,this.ThirtyMinutesInMs=18e5,this.OneHourInMs=36e5,this.SixHoursInMs=216e5,this.OneDayInMs=864e5,this.SevenDaysInMs=6048e5,this.ThirtyDaysInMs=2592e6,this.linkedDuration=ko.observable(),this.popupManager=new AdmWrapper.PopupEventManager,this.applyRelativeDuration=function(a){f.startDate(new Date((new Date).setSeconds(0,0)-a)),f.duration(a),f.apply(!0)},b.append(a.TimeIntervalSelectorTemplate.template),this.Strings=a.TimeIntervalSelectorResources.getResources(),this.duration=ko.computed({read:function(){if(f.customMode()===c.Duration)return f.linkedDuration();var a=f.endDate().valueOf()-f.startDate().valueOf();return f.linkedDuration(a),a},write:function(a){f.linkedDuration(a),f.endDate(new Date(f.startDate().valueOf()+a))}}),this.endDate.subscribe(function(a){if(f.customMode()===c.Duration){var b=a.valueOf()-f.duration();f.startDate().valueOf()!==b&&f.startDate(new Date(b))}else a.valueOf()<f.startDate().valueOf()&&f.startDate(a)}),this.startDate.subscribe(function(a){if(f.customMode()===c.Duration){var b=a.valueOf()+f.duration();f.endDate().valueOf()!==b&&f.endDate(new Date(b))}else a.valueOf()>f.endDate().valueOf()&&f.endDate(a)}),this.units.push(new d(this.Strings.Minutes,this.OneMinuteInMs),new d(this.Strings.Hours,this.OneHourInMs)),this.selectedUnit(this.units()[0]),this.configureExtenders(),this.initializeWidgets(b),this.cleanup.subscribe(function(){f.popupManager.dispose()}),this.displayDialog.subscribe(function(a){a?f.popupManager.addCloseHandler(b.find(".time-interval-selector-popup"),f.displayDialog):f.popupManager.removeCloseHandler()}),this.timeIntervalIn.subscribe(function(a){var b=moment().set({second:0,millisecond:0}).toDate();f.startDate(new Date((a._end||a._Now||b).valueOf()-a._duration)),f.duration(a._duration),f.isRelative(null===a._end),f.timeIntervalOut(a)}),this.timeIntervalOut.subscribe(function(a){var b={timeInterval:{},getCurrentLocation:function(){return null}};if(!b)return null;b.timeInterval||(b.timeInterval={});var c,d=b&&b.getCurrentLocation?b.getCurrentLocation():null;return d?(c=d.location+(d.viewName||""),void 0===a?void 0===b.timeInterval[c]?null:b.timeInterval[c]:void(b.timeInterval[c]=a)):null}),this.customMode(c.Duration),ko.applyBindings(this,b[0])}return b.prototype.apply=function(a){void 0===a&&(a=!1),this.isValidInterval()&&(this.isRelative(!0===a),this.timeIntervalOut({_duration:this.duration(),_end:this.isRelative()?null:this.endDate.peek(),_isAutoRefresh:!1,_restoredState:!1,_Now:new Date}),this.toggleDialog())},b.prototype.toggleCustom=function(){this.isRelative(!this.isRelative())},b.prototype.isValidInterval=function(){return!(this.durationLimit()&&this.duration()>this.durationLimit())&&(!(this.minimumDuration()&&this.duration()<this.minimumDuration())&&!(!1===this.allowFutureDates()&&this.endDate().valueOf()>(new Date).valueOf()))},b.prototype.toggleDialog=function(){this.displayDialog(!this.displayDialog())},b.prototype.calcFormattedDuration=function(a){var b=Math.round(a/this.OneMinuteInMs*10)/10,c=b*this.OneMinuteInMs,d=c/this.OneDayInMs,e=c/this.OneHourInMs;return d>0&&c%this.OneDayInMs==0?{unit:1===d?this.Strings.Day:this.Strings.Days,duration:d}:e>0&&c%this.OneHourInMs==0?{unit:1===e?this.Strings.Hour:this.Strings.Hours,duration:e}:{unit:1===b?this.Strings.Minute:this.Strings.Minutes,duration:b}},b.prototype.configureExtenders=function(){var a=this;ko.extenders.defaultValue=function(a,b){return a.defaultable=ko.computed({read:function(){var c=a();return ko.computedContext.isInitial()&&a(null),null==c||Array.isArray(c)&&!c.length?b:c},write:function(b){a(b)},deferEvaluation:!0}),a(b),a},this.allowFutureDates.extend({defaultValue:null}),this.durationLimit.extend({defaultValue:null}),this.minimumDuration.extend({defaultValue:null}),this.relativeDurations.extend({defaultValue:[this.ThirtyMinutesInMs,this.OneHourInMs,this.SixHoursInMs,this.OneDayInMs,this.SevenDaysInMs,this.ThirtyDaysInMs]}),ko.extenders.dateValidation=function(a,b){var c=ko.computed({read:a,write:function(c){var d=a();(null!==b?moment(c,b):moment(c)).isValid()?a(c):a.notifySubscribers(d)}}).extend({notify:"always"});return c(a()),c},ko.extenders.regexValidation=function(a,b){var c=ko.computed({read:a,write:function(c){var d=a();b.test(c)?a(c):a.notifySubscribers(d)}}).extend({notify:"always"});return c(a()),c},ko.extenders.date=function(a){var b=["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD"];a.date=ko.computed({read:function(){return moment(a()).format("M/D/YYYY")},write:function(c){var d=a(),e=moment(c,b).set({hour:d.getHours(),minute:d.getMinutes()});a(e.toDate())}}).extend({dateValidation:b});var c=["h:mm A","H:mm"];return a.time=ko.computed({read:function(){return moment(a()).format("h:mm A")},write:function(b){var d=a(),e=moment(b,c).set({year:d.getFullYear(),month:d.getMonth(),date:d.getDate()});a(e.toDate())}}).extend({dateValidation:c}),a},this.endDate.extend({date:!0}),this.startDate.extend({date:!0}),ko.extenders.formattedDuration=function(b,c){var d=ko.computed({read:function(){var d=c?a.selectedUnit.peek().factor:a.selectedUnit().factor,e=b()/d;return Math.round(10*e)/10},write:function(c){b(c*a.selectedUnit().factor)}}).extend({notify:"always"}),e=/^\d+(\.\d+)?$/;b.formatted=d.extend({regexValidation:e});var f=ko.computed(function(){return a.calcFormattedDuration(b())});return b.optimalFormattedDuration=f,a.selectedUnit.subscribe(function(){var a=b.formatted;a(a())}),b},this.duration.extend({formattedDuration:!0}),ko.extenders.timeInterval=function(a){a.startDate=ko.computed({read:function(){return a()?new Date((a()._end||a()._Now).valueOf()-a()._duration):new Date},write:function(a){return $.noop()}}).extend({date:!0}),a.endDate=ko.computed({read:function(){return a()?a()._end||a()._Now:new Date},write:function(a){return $.noop()}}).extend({date:!0}),a.duration=ko.computed({read:function(){return a()?a()._duration:0},write:function(a){return $.noop()}}).extend({formattedDuration:!1})},this.timeIntervalOut.extend({timeInterval:!0})},b.prototype.initializeWidgets=function(a){var b=this;ko.bindingHandlers.dateTimeSelector={init:function(a,c){var d=$(a);d.dateTimeSelector({showNow:!0,currentText:b.Strings.Today.toLocaleUpperCase(),imagesPath:"images/timecontrol",commonImagesPath:"images/timecontrol",dateFormat:"m/d/yy",showTimeSelector:!1,value:c().peek(),minDateTime:new Date(0),maxDateTime:new Date,onShow:function(a){a.options.value=c().peek();var e=d.nextAll(".datetime-selector-root:first");d.offset().top+d.outerHeight()+e.outerHeight()>=$(window).height()?e.css("top",d.position().top-e.outerHeight()):e.css("top","");var f=e.addBack();b.popupManager.addCloseHandler(f,function(){d.dateTimeSelector("option","value",c()()),d.dateTimeSelector("hide")})},onClose:function(){return b.popupManager.removeCloseHandler()},onSelect:function(a){if(null===a){var b=new Date,d=c().peek().setFullYear(b.getFullYear(),b.getMonth(),b.getDate());a=new Date(d)}c()(a)}})},update:function(a,b){a.dateTimeSelector&&a.dateTimeSelector("option","value",b()())}}},b}();a.TimeIntervalSelectorV3=b;var c;!function(a){a[a.Duration=1]="Duration",a[a.End=2]="End"}(c=a.TimeIntervalSelector_CustomMode||(a.TimeIntervalSelector_CustomMode={}));var d=function(){function a(a,b){this.factor=b,this.name=a}return a}();a.TimeIntervalSelector_Unit=d}(DependencyMap||(DependencyMap={}));