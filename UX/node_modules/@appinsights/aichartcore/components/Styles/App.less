@import 'Common/Color.less';
@import '../../Ibiza/Text.less';

// **** NOTE: Please make sure to update styles for high contrast as well as dark theme **** //

html {
  height: 100%;
}

body {
  margin: 0;
  height: 100%;
  background-color: @color-background-light; // Set the background to always be white until we have proper theming.
}

.my-app-class {
  height: 100%;

  .app-root {
    display: flex;
    flex-wrap: wrap;
    height: 100%;
    
    .overlay {
      background-color: rgba(32, 32, 32, 0.3);
      z-index: 9999;
      position: fixed;
      height: 100%;
      width: 100%;
    }

    .overlay-selected {
      z-index: 10000;
      position: relative;
    }

    .panel-center {
      flex: 1 1;
      min-width: 0;
      height: 100%;

      > * {
        padding-left: 25px;
        padding-right: 25px;
      }
    }

    .panel-right {
      display: flex;
      flex-flow: column;
      flex: 0 1 auto;
      min-width: 0;

      .panel-container {
        flex: 1 1 auto;
        height: 100%;

        .paddable > * {
          padding-left: 25px;
          padding-right: 25px;
        }
      }
    }
  }
}

.hide {
  display: none;
}

@secondary-bar-height-constant: 25px;

@chart-list-relative-height-constant: 69px; // 35 (command-bar) + secondary-bar (34)

@debug-option-height-constant: 250px;

.command-bar,
.secondary-bar {
  position: fixed;
  width: 100%;
  z-index: 10;

  &.setting-panel-opened {
    width: calc(~'100% - 315px - 50px'); // full height - setting panel - padding for the central panel
  }
}

.command-bar {
  background-color: white;
}

.secondary-bar {
  top: 35px;
  border-bottom: 1px solid @color-border;
  font-family: "Segoe UI", Tahoma, Arial, sans-serif;
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  height: @secondary-bar-height-constant;
  display: flex;
  align-items: center;
}

.chart-list {
  position: relative;
  overflow: auto; // scrollbar should in the chartlist
  top: @chart-list-relative-height-constant;
  bottom: 10px;
  height: calc(~'100% - 69px - 10px');  // 100% - top - bottom
}

.dark,
.fxs-theme-dark {
  .my-app-class .app-root .overlay {
    background-color: rgba(255, 255, 255, 0.3);
  }

  .my-app-class,
  .command-bar,
  .chart-list {
    background-color: @color-background-dark;
    color: #fff;
    fill: #fff;
  }

  .secondary-bar {
    background-color: @color-background-dark;
    color: #e0e0e0;
    border-bottom: 1px solid @color-border-dark;
  }
}

@media screen and (-ms-high-contrast: black-on-white) {
  .light.high-contrast;
}

@media screen and (-ms-high-contrast: white-on-black) {
  .dark.high-contrast;
}

.light.high-contrast {
  .hc(@highcontrast-light-bg, @highcontrast-light-fg, @highcontrast-light-bgSelect, @highcontrast-light-fgSelect);
}

.dark.high-contrast {
  .hc(@highcontrast-dark-bg, @highcontrast-dark-fg, @highcontrast-dark-bgSelect, @highcontrast-dark-fgSelect);
}

.hc(@bg, @fg, @bgSelect, @fgSelect) {
  .my-app-class .app-root {
    .overlay {
      background-color: @bg;
    }

    .overlay-selected {
      background-color: @bgSelect;
      color: @fgSelect;
    }
  }

  .my-app-class,
  .command-bar,
  .chart-list {
    background-color: @bg;
    color: @fg;
    fill: @fg;
  }

  .secondary-bar {
    background-color: @bg;
    color: @fg;
    border-bottom: 1px solid @fg;
  }
}
