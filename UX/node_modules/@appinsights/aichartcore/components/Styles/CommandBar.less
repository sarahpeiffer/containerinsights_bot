@import 'Common/Color.less';
@import '../../Ibiza/Text.less';

.command-bar {
  display: flex;
  border-bottom: 1px solid @color-border;
  padding-left: 20px;
  height: 34px;

  .command-bar-former-button-group {
    display: flex;
    width: calc(~'100% - 180px');
  }
}

// **** NOTE: Please make sure to update styles for high contrast as well as dark theme **** //

.command-button {
  display: flex;
  cursor: pointer;
  padding: 5px 8px;
  justify-content: center;
  align-content: center;

  &:hover:not(.disabled) {
    background-color: @primary-hover-light;
  }

  &.disabled {
    cursor: default;
    background-color: none;
    .icon-coloring(@color-text-disabled);
  }

  .icon {
    padding-top: 3px;

    > svg {
      height: 16px;
      width: 16px;

      path,
      polygon,
      circle {
        fill: @command-bar-light;
      }

      line {
        stroke: @command-bar-light;
      }
    }
  }

  .label {
    padding: 2px 0 0 5px;
    .fx-text-regular();

    &.disabled {
      color: @color-text-disabled;
    }
  }
}

button.link {
  background: none !important;
  border: none;
  padding: 0 !important;
  color: @color-button;
  cursor: pointer;
}

.button-primary {
  background: @color-button;
  border-color: @color-button;
  color: #fff;
}

.button-disabled {
  background-color: #fff;
  border-color: #e4e4e4;
  cursor: default !important;
  color: @color-text-disabled;
}

.button-disabled:focus {
  outline: none;
}

.button-secondary {
  color: #fff;
  border-color: #acacac;
  background-color: #acacac;
}

.button-trim {
  border-width: 1px;
  border-style: solid;
  box-sizing: border-box;
}

.dark,
.fxs-theme-dark {
  .command-bar {
    border-color: @color-border-dark;
  }

  .command-button {
    .icon-coloring(@primary-selected-dark-button);

    &:hover:not(.disabled) {
      background-color: @primary-hover-dark;
    }
  }
}

@media screen and (-ms-high-contrast: black-on-white) {
  .light.high-contrast;
  .hc-ie(@highcontrast-light-fg);
}

@media screen and (-ms-high-contrast: white-on-black) {
  .dark.high-contrast;
  .hc-ie(@highcontrast-dark-fg);
}

.light.high-contrast {
  .hc(@highcontrast-light-bg, @highcontrast-light-fg, @highcontrast-light-bgSelect, @highcontrast-light-fgSelect, @highcontrast-light-disabled);
}

.dark.high-contrast {
  .hc(@highcontrast-dark-bg, @highcontrast-dark-fg, @highcontrast-dark-bgSelect, @highcontrast-dark-fgSelect, @highcontrast-dark-disabled);
}

.hc(@bg, @fg, @bgSelect, @fgSelect, @disabled) {
  .command-button {
    .icon-coloring(@fg);

    &:hover:not(.disabled) {
      background-color: @bgSelect;
      color: @fgSelect;

      .icon-coloring(@fgSelect);
    }

    &.disabled {
      &:hover {
        background-color: @bg;
      }

      .label.disabled {
        color: @disabled;
      }

      .icon-coloring(@disabled);
    }

    &:hover {
      background-color: @fg;
    }
  }
}

// Edge/IE will add an additional background to the text/icon itself
.hc-ie(@fg) {
  .command-button:hover:not(.disabled) {
    color: @fg;
    .icon-coloring(@fg);
  }
}

.icon-coloring(@color) {
  .icon {
    > svg {
      path,
      polygon,
      circle,
      rect {
        fill: @color;
      }

      line {
        stroke: @color;
      }
    }
  }
}
