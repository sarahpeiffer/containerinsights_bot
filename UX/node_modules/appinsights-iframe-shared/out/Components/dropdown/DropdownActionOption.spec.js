import { DropdownActionOption } from './DropdownActionOption';
import { MenuItem } from './MenuItem';
describe('DropdownActionOption', function () {
    var props;
    var subProps;
    var option;
    beforeEach(function () {
        props = {
            focusIndex: -1,
            group: 'my group',
            index: -1,
            name: 'name',
            offset: true,
            onClick: function () { },
            onHover: function () { },
            onHoverEnd: function () { }
        };
        subProps = (_a = {
                className: 'dropdown-option',
                onClick: function () { },
                onMouseEnter: function () { },
                onMouseLeave: function () { },
                ref: function () { },
                tabIndex: -1
            },
            _a['aria-label'] = 'label',
            _a);
        spyOn(subProps, 'ref');
        spyOn(subProps, 'onClick');
        spyOn(props, 'onClick');
        option = new DropdownActionOption(props);
        var _a;
    });
    it('should have a menu item', function () {
        var rendered = option.render();
        expect(rendered.type).toBe(MenuItem);
        expect(rendered.props.name).toBe(props.name);
        expect(rendered.props.onClick).toBe(props.onClick);
        expect(rendered.props.onHover).toBe(props.onHover);
        expect(rendered.props.onHoverEnd).toBe(props.onHoverEnd);
        expect(rendered.props.focusIndex).toBe(props.focusIndex);
        expect(rendered.props.index).toBe(props.index);
        expect(rendered.props.group).toBe(props.group);
    });
    it('should have a list item', function () {
        var rendered = option.render();
        var item = rendered.props.content(subProps);
        expect(item.type).toBe('li');
        expect(item.props.role).toBe('menuitem');
        expect(item.props.tabIndex).toBe(subProps.tabIndex);
        expect(item.props.className).toBe('dropdown-option dropdown-link dropdown-message');
        expect(item.props['aria-label']).toBe(subProps['aria-label']);
        expect(item.props.onMouseEnter).toBe(subProps.onMouseEnter);
        expect(item.props.onMouseLeave).toBe(subProps.onMouseLeave);
        item.props.onClick();
        expect(subProps.onClick).toHaveBeenCalledTimes(1);
        var title = item.props.children[1];
        expect(title.props.className).toBe('dropdown-offset');
        expect(title.props.children).toBe(props.name);
    });
    it('should call click handler if enter pressed', function () {
        var rendered = option.render();
        var item = rendered.props.content(subProps);
        var e = {
            key: 'Enter',
            stopPropagation: function () { },
            preventDefault: function () { }
        };
        spyOn(e, 'stopPropagation');
        spyOn(e, 'preventDefault');
        item.props.onKeyPress(e);
        expect(e.stopPropagation).toHaveBeenCalledTimes(1);
        expect(e.preventDefault).toHaveBeenCalledTimes(1);
    });
    it('should call click handler if space pressed', function () {
        var rendered = option.render();
        var item = rendered.props.content(subProps);
        var e = {
            key: ' ',
            stopPropagation: function () { },
            preventDefault: function () { }
        };
        spyOn(e, 'stopPropagation');
        spyOn(e, 'preventDefault');
        item.props.onKeyPress(e);
        expect(e.stopPropagation).toHaveBeenCalledTimes(1);
        expect(e.preventDefault).toHaveBeenCalledTimes(1);
    });
    it('should not call click handler if other key pressed', function () {
        var rendered = option.render();
        var item = rendered.props.content(subProps);
        var e = {
            key: '2',
            stopPropagation: function () { }
        };
        spyOn(e, 'stopPropagation');
        item.props.onKeyPress(e);
        expect(e.stopPropagation).not.toHaveBeenCalled();
        expect(props.onClick).not.toHaveBeenCalled();
    });
});
//# sourceMappingURL=DropdownActionOption.spec.js.map